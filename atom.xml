<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>JaguarJack&#39;s Blog</title>
  
  <subtitle>åšäººå‘¢æœ€é‡è¦çš„å°±æ˜¯å¼€å¿ƒ</subtitle>
  <link href="https://jaguarjack.github.io/atom.xml" rel="self"/>
  
  <link href="https://jaguarjack.github.io/"/>
  <updated>2021-06-24T03:27:06.297Z</updated>
  <id>https://jaguarjack.github.io/</id>
  
  <author>
    <name>JaguarJack</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Go åç¨‹è®¿é—® Chan çš„ç–‘é—®</title>
    <link href="https://jaguarjack.github.io/2021/06/21/goroutine-chan/"/>
    <id>https://jaguarjack.github.io/2021/06/21/goroutine-chan/</id>
    <published>2021-06-21T00:00:00.000Z</published>
    <updated>2021-06-24T03:27:06.297Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é‡åˆ°çš„é¢˜ç›®"><a href="#é‡åˆ°çš„é¢˜ç›®" class="headerlink" title="é‡åˆ°çš„é¢˜ç›®"></a>é‡åˆ°çš„é¢˜ç›®</h2><p>ä½¿ç”¨ <code>Channel</code> è¿›è¡Œä»»åŠ¡ç¼–æ’çš„é¢˜ï¼Œä½ å¯ä»¥å°è¯•åšä¸€ä¸‹ï¼šæœ‰å››ä¸ª <code>goroutine</code>ï¼Œç¼–å·ä¸º <code>1ã€2ã€3ã€4</code>ã€‚æ¯ç§’é’Ÿä¼šæœ‰ä¸€ä¸ª <code>goroutine</code>æ‰“å°å‡ºå®ƒè‡ªå·±çš„ç¼–å·ï¼Œè¦æ±‚ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè®©è¾“å‡ºçš„ç¼–å·æ€»æ˜¯æŒ‰ç…§ <code>1ã€2ã€3ã€4ã€1ã€2ã€3ã€4ã€â€¦â€¦</code>çš„é¡ºåºæ‰“å°å‡ºæ¥ã€‚</p><span id="more"></span><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printer</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">struct</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i :=<span class="number">1</span>; i &lt;= <span class="number">4</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(i <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">             time.sleep(time.Duration(i * <span class="number">10</span>) * time.Millisecond)</span><br><span class="line">             <span class="keyword">for</span> &#123;</span><br><span class="line">                 &lt;-ch</span><br><span class="line"></span><br><span class="line">                 fmt.Prinln(i)</span><br><span class="line"></span><br><span class="line">                 time.sleep(time.second)</span><br><span class="line"></span><br><span class="line">                 ch &lt;- <span class="keyword">struct</span>&#123;&#125;&#123;&#125;</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;(i)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ch &lt;- <span class="keyword">struct</span>&#123;&#125;&#123;&#125;</span><br><span class="line"></span><br><span class="line">    time.sleep(time.Minute)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç–‘é—®äº§ç”Ÿçš„åœ°æ–¹"><a href="#ç–‘é—®äº§ç”Ÿçš„åœ°æ–¹" class="headerlink" title="ç–‘é—®äº§ç”Ÿçš„åœ°æ–¹"></a>ç–‘é—®äº§ç”Ÿçš„åœ°æ–¹</h2><h3 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h3><ul><li>åˆ›å»ºä¸€ä¸ªé˜»å¡çš„ <code>Chan</code></li><li>åˆ›å»ºå››ä¸ª <code>Goroutine</code>ï¼Œæœ‰å‰åé¡ºåºï¼Œä¿è¯äº†ç¬¬ä¸€ä¸ªï¼ˆi = 1ï¼‰ <code>Goroutine</code> å¯ä»¥é¦–å…ˆè®¿é—® <code>Chan</code></li><li>ä¸» Goroutine å¾€ Chan ä¸­æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ </li><li>ç”±äºå­ <code>Goroutine</code> å¯åŠ¨ä¹‹åï¼Œä¼š <code>sleep</code>ï¼Œæ‰€ä»¥ <code>i=1</code> çš„ <code>Goroutine</code> ä¼šæœ€å…ˆè®¿é—® <code>Chan</code>, è®¿é—®ä¹‹åå‘¢ï¼Œï¼ˆå…¶ä»–çš„ Goroutine å°±ä¼šé˜»å¡ï¼‰ã€‚ ç„¶åè¾“å‡ºï¼Œè¾“å‡ºä¹‹å sleepï¼Œåœ¨åŠ å…¥å…ƒç´ ã€‚</li></ul><p>è¿™æ®µä»£ç åœ¨è¾“å‡ºä¹‹åçš„ç¡®æ˜¯ 1ï¼Œ2ï¼Œ3ï¼Œ4 å¾ªç¯æ‰“å°ã€‚ç–‘æƒ‘ç‚¹åœ¨å“ªé‡Œå‘¢ï¼Ÿå°±æ˜¯åœ¨ç¬¬ä¸€ä¸ª Goroutine ç»“æŸä¹‹åï¼Œä¸ºä»€ä¹ˆ 2ï¼Œ3ï¼Œ4 å· Goroutine æ²¡æœ‰å»äº‰æŠ¢ chï¼Œåº”è¯¥æ˜¯ 2,3,4 éšæœºè¾“å‡ºã€‚å¯æ˜¯å¹¶æ²¡æœ‰å‡ºç°è¿™ç§æƒ…å†µï¼Œè€Œæ˜¯é¡ºåºè¾“å‡ºã€‚</p><h2 id="ç–‘æƒ‘è§£å†³"><a href="#ç–‘æƒ‘è§£å†³" class="headerlink" title="ç–‘æƒ‘è§£å†³"></a>ç–‘æƒ‘è§£å†³</h2><p>åœ¨æ­¤ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€ä¸‹ <code>src/runtime/chan.go</code> çš„ <code>chan</code> çš„ç»“æ„</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> hchan <span class="keyword">struct</span> &#123;</span><br><span class="line">   qcount   <span class="keyword">uint</span>           <span class="comment">// total data in the queue</span></span><br><span class="line">   dataqsiz <span class="keyword">uint</span>           <span class="comment">// size of the circular queue</span></span><br><span class="line">   buf      unsafe.Pointer <span class="comment">// points to an array of dataqsiz elements</span></span><br><span class="line">   elemsize <span class="keyword">uint16</span></span><br><span class="line">   closed   <span class="keyword">uint32</span></span><br><span class="line">   elemtype *_type <span class="comment">// element type</span></span><br><span class="line">   sendx    <span class="keyword">uint</span>   <span class="comment">// send index</span></span><br><span class="line">   recvx    <span class="keyword">uint</span>   <span class="comment">// receive index</span></span><br><span class="line">   recvq    waitq  <span class="comment">// list of recv waiters</span></span><br><span class="line">   sendq    waitq  <span class="comment">// list of send waiters</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// lock protects all fields in hchan, as well as several</span></span><br><span class="line">   <span class="comment">// fields in sudogs blocked on this channel.</span></span><br><span class="line">   <span class="comment">//</span></span><br><span class="line">   <span class="comment">// Do not change another G&#x27;s status while holding this lock</span></span><br><span class="line">   <span class="comment">// (in particular, do not ready a G), as this can deadlock</span></span><br><span class="line">   <span class="comment">// with stack shrinking.</span></span><br><span class="line">   lock mutex <span class="comment">// è¯´æ˜ channel åº•å±‚ä¹Ÿæ˜¯åŸºäº mutex å®ç°çš„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸»è¦çœ‹ <code>recvq</code> å’Œ <code>sendq</code>, è¿™ä¸¤ä¸ªæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><ul><li>recvq : åç¨‹é˜Ÿåˆ—ï¼Œç­‰å¾…è¯»å–æ¶ˆæ¯çš„åç¨‹é˜Ÿåˆ—</li><li>sendq : åç¨‹é˜Ÿåˆ—ï¼Œç­‰å¾…å‘é€æ¶ˆæ¯çš„åç¨‹é˜Ÿåˆ—</li></ul><p>è¿™èƒ½è¯´æ˜ä»€ä¹ˆå‘¢ï¼Ÿè¿™é‡Œé¦–å…ˆæ˜ç¡®ä¸‹ <code>recvq</code> æ˜¯é˜Ÿåˆ—ç»“æ„ã€‚å†æ¥è¿”å›æ¥çœ‹ä¸Šé¢é‚£æ®µä»£ç ï¼Œå¯åŠ¨<code> Goroutine</code> å…¶å®æ˜¯å»¶è¿Ÿçš„ï¼Œè¯´æ˜ä»–ä»¬æ˜¯é¡ºåºå¯åŠ¨çš„ï¼Œåœ¨ <code>1</code> å·è·å–åˆ° <code>ch</code> çš„å€¼ä¹‹åï¼Œé¦–å…ˆé˜»å¡çš„ä¾¿æ˜¯ <code>2</code> å·ï¼Œé‚£ä¹ˆ <code>2</code> å·ä¾¿ä¼šè¿›å…¥<code>recvq</code>é˜Ÿåˆ—ï¼Œä¸‰å·å››å·ä¾æ¬¡è¿›å…¥é˜Ÿåˆ—ï¼Œé˜»å¡ç­‰å¾…å”¤é†’ã€‚</p><p>å¦‚ä¸Šé¢æ‰€è¯´ï¼Œç»“æœæ˜¯é¡ºåºçš„ã€‚å› ä¸ºåœ¨ <code>1</code> å· <code>Goroutine</code> å¯åŠ¨ä¹‹åï¼Œå®ƒä½¿ç”¨ <code>time.sleep</code>ã€‚å¯¼è‡´å…¶ä»– <code>Goroutine</code> è·å– <code>ch</code> çš„æ—¶å€™ä¼šé˜»å¡ã€‚è¿™ä¸ªé˜»å¡è¯´æ˜ä»€ä¹ˆå‘¢? å¦‚æœæ²¡æœ‰ <code>time.sleep</code>çš„è¯ï¼Œç»“æœåˆæ˜¯æ€ä¹ˆæ ·çš„ã€‚åœ¨è¿™ä¹‹å‰å…ˆè¯´ä¸€ä¸‹è€ç”Ÿå¸¸è°ˆçš„è¯é¢˜</p><h2 id="GMP"><a href="#GMP" class="headerlink" title="GMP"></a>GMP</h2><p>GMP ä¸€ç›´æ˜¯å­¦ä¹  GO å¿…é¡»å­¦ä¹ çš„è¯é¢˜ã€‚åˆ°å¤„éƒ½æ˜¯è§£æã€‚è¿™é‡Œä¹Ÿä¸åšæ·±å…¥è§£é‡Šäº†ã€‚ä¸»è¦çœ‹ä¸€ä¸‹ GMP æ¨¡å‹.</p><ul><li>G: ä»£è¡¨ goroutine</li><li>M: ä»£è¡¨ ç³»ç»Ÿçº¿ç¨‹</li><li>P: ä»£è¡¨ ä¸è°ƒåº¦ç›¸å…³çš„context</li></ul><p>æ¯ä¸€ä¸ª <code>M</code> éƒ½æ‹¥æœ‰ä¸€ä¸ª <code>P</code>ï¼Œ<code>P</code> ä¹Ÿç»´æŠ¤ä¸€ä¸ªèƒ½è¿è¡Œçš„ <code>Goroutine</code> é˜Ÿåˆ—ï¼Œç”±è¯¥ <code>P</code> ç»‘å®šçš„çº¿ç¨‹æ‰§è¡Œã€‚</p><h2 id="é˜»å¡è¯´æ˜ä»€ä¹ˆ"><a href="#é˜»å¡è¯´æ˜ä»€ä¹ˆ" class="headerlink" title="é˜»å¡è¯´æ˜ä»€ä¹ˆ"></a>é˜»å¡è¯´æ˜ä»€ä¹ˆ</h2><p>å½“ <code>1</code> å·åˆ›å»ºä¹‹åï¼Œä¼šç«‹å³è·å– <code>ch</code> çš„å€¼ï¼Œå› ä¸ºä¸» <code>goroutine </code>å·²ç»å¾€ <code>ch </code>é‡Œé¢åŠ å…¥å…ƒç´ ï¼Œæ‰€ä»¥æ­¤æ—¶ <code>ch</code> æ˜¯å¯è¯»ã€‚<code>1</code> å·ç”± ç”± <code>GMP</code> æ¨¡å‹å¯ä»¥çŸ¥é“ï¼Œ<code>runtime</code> è°ƒåº¦ä¸º <code>running</code>ã€‚æ¥æ‰§è¡Œè·å– chï¼Œä¹‹å 1 å· time.sleep é˜»å¡ã€‚ç„¶åå˜æˆ waiting çŠ¶æ€ã€‚</p><p>è¿˜è®°å¾— ch çš„ä¸¤ä¸ªé˜Ÿåˆ—å—ï¼Ÿå‘é€å’Œè¯»å–ï¼Œæ­¤æ—¶ 1 å·ä¼šè¢«æ”¾å…¥åˆ°å‘é€æ¶ˆæ¯çš„é˜Ÿåˆ—ç­‰å¾…å”¤é†’ã€‚ç”±äº ch ç›®å‰æ˜¯ç©ºçš„ï¼Œåœ¨ time.sleep ä¹‹åæ‰ä¼šåŠ å…¥å…ƒç´ ã€‚æ­¤æ—¶2å·è¢«åˆ›å»ºå¹¶ä¸”è¢«è°ƒåº¦å»è·å– ch çš„å€¼ï¼Œå‘ç° ch é˜»å¡ä¹‹åä¼šè¢«æ”¾å…¥ recvq é˜Ÿåˆ—ï¼Œå°±æ˜¯ç­‰å¾…è¯»å–çš„é˜Ÿåˆ—ã€‚<code>3</code> <code>4</code> å·ä¾æ¬¡ã€‚åœ¨ 1 ç§’ä¹‹åï¼Œ1 å·å˜ä¸ºå¯å‘é€çŠ¶æ€ï¼Œå‘ ch ä¸­å‘é€å…ƒç´ ï¼Œç„¶åè¢«åŠ å…¥ <code>recvq</code> é˜Ÿåˆ—å°¾éƒ¨ï¼Œæ­¤æ—¶é˜Ÿåˆ—å¤´éƒ¨çš„ 2 å·ä¼šç«‹å³è¢«å”¤é†’æ¥è·å–ï¼Œç„¶åè¢«åŠ å…¥å‘é€é˜Ÿåˆ—ã€‚å¦‚æ­¤é‡å¤ï¼Œå°±å¯ä»¥é¡ºåºæ‰“å°ã€‚</p><h2 id="æ²¡æœ‰-time-sleep-çš„ç»“æœ"><a href="#æ²¡æœ‰-time-sleep-çš„ç»“æœ" class="headerlink" title="æ²¡æœ‰ time.sleep çš„ç»“æœ"></a>æ²¡æœ‰ time.sleep çš„ç»“æœ</h2><p>1 å· <code>Goroutine</code> çš„è®¿é—®è°ƒåº¦å’Œä¸Šä¸€æ­¥æ˜¯ä¸€æ ·çš„ï¼Œä¸»è¦æ˜¯åœ¨ä¸‹ä¸€æ­¥ã€‚å¦‚æœ 1 å·æ²¡æœ‰é˜»å¡çš„è¯ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿch ä¼šç«‹é©¬å˜æˆå¯è¯»ã€‚é‚£ä¹ˆæ­¤æ—¶ 2 3 4 å· <code>Goroutine</code> ä¼šæ€ä¹ˆæ ·ï¼Ÿæ ¹æ® <strong>M:N</strong> çš„åŸåˆ™ï¼Œ 2 3 4 åº”è¯¥ä¼šè¢«éšæœºåˆ†é…çš„ M è°ƒåº¦çš„ G é˜Ÿåˆ—é‡Œé¢ï¼Œæ­¤æ—¶å°±ä¼šå‘ç”Ÿäº‰æŠ¢ï¼Ÿé‚£ä¹ˆäº‰æŠ¢çš„ç»“æœå°±æ˜¯è®¿é—®æ˜¯éšæœºçš„ã€‚ä¹Ÿå°±è¯´ 2 3 4 ä¸­è°å…ˆè®¿é—®äº† chï¼Œæ˜¯ä¸ç¡®å®šçš„ã€‚æ‰€ä»¥ï¼Œå½“ä½ å»æ‰ <code>time.sleep</code> ä¹‹åï¼Œé¡ºåºä¼šå˜æˆéšæœºã€‚å½“ç„¶æ˜¯æŒ‰ç…§ä¸€å®šçš„éšæœºé¡ºåºæ‰“å°ã€‚å› ä¸ºåœ¨ç¡®å®š 2 3 4 è®¿é—®ä¹‹å è¯»å–çš„é˜Ÿåˆ—å°±æ˜¯ç¡®å®šäº†ï¼Œæ‰“å°çš„é¡ºåºç»“æœå°±æ˜¯é˜Ÿåˆ—çš„é¡ºåºã€‚</p><p>è¯¦ç»†çš„ <strong>GMP</strong> æ˜¯å¦‚ä½•è°ƒåº¦è¯·æŸ¥çœ‹ <a href="%E8%B0%83%E5%BA%A6%E5%99%A8">https://draveness.me/golang/docs/part3-runtime/ch06-concurrency/golang-goroutine/#65-%E8%B0%83%E5%BA%A6%E5%99%A8</a></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;é‡åˆ°çš„é¢˜ç›®&quot;&gt;&lt;a href=&quot;#é‡åˆ°çš„é¢˜ç›®&quot; class=&quot;headerlink&quot; title=&quot;é‡åˆ°çš„é¢˜ç›®&quot;&gt;&lt;/a&gt;é‡åˆ°çš„é¢˜ç›®&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;Channel&lt;/code&gt; è¿›è¡Œä»»åŠ¡ç¼–æ’çš„é¢˜ï¼Œä½ å¯ä»¥å°è¯•åšä¸€ä¸‹ï¼šæœ‰å››ä¸ª &lt;code&gt;goroutine&lt;/code&gt;ï¼Œç¼–å·ä¸º &lt;code&gt;1ã€2ã€3ã€4&lt;/code&gt;ã€‚æ¯ç§’é’Ÿä¼šæœ‰ä¸€ä¸ª &lt;code&gt;goroutine&lt;/code&gt;æ‰“å°å‡ºå®ƒè‡ªå·±çš„ç¼–å·ï¼Œè¦æ±‚ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè®©è¾“å‡ºçš„ç¼–å·æ€»æ˜¯æŒ‰ç…§ &lt;code&gt;1ã€2ã€3ã€4ã€1ã€2ã€3ã€4ã€â€¦â€¦&lt;/code&gt;çš„é¡ºåºæ‰“å°å‡ºæ¥ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="go" scheme="https://jaguarjack.github.io/tags/go/"/>
    
    <category term="goroutine" scheme="https://jaguarjack.github.io/tags/goroutine/"/>
    
    <category term="chan" scheme="https://jaguarjack.github.io/tags/chan/"/>
    
  </entry>
  
  <entry>
    <title>Go å­—èŠ‚å¯¹é½</title>
    <link href="https://jaguarjack.github.io/2021/06/17/go-byte-align/"/>
    <id>https://jaguarjack.github.io/2021/06/17/go-byte-align/</id>
    <published>2021-06-17T00:00:00.000Z</published>
    <updated>2021-06-21T07:44:02.628Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯å­—èŠ‚å¯¹é½"><a href="#ä»€ä¹ˆæ˜¯å­—èŠ‚å¯¹é½" class="headerlink" title="ä»€ä¹ˆæ˜¯å­—èŠ‚å¯¹é½"></a>ä»€ä¹ˆæ˜¯å­—èŠ‚å¯¹é½</h2><p>ç°ä»£è®¡ç®—æœºä¸­ï¼Œ<code>å†…å­˜ç©ºé—´</code>æŒ‰ç…§å­—èŠ‚åˆ’åˆ†ï¼Œç†è®ºä¸Šå¯ä»¥ä»ä»»ä½•èµ·å§‹åœ°å€è®¿é—®ä»»æ„ç±»å‹çš„å˜é‡ã€‚ä½†å®é™…ä¸­åœ¨è®¿é—®ç‰¹å®šç±»å‹å˜é‡æ—¶ç»å¸¸åœ¨ç‰¹å®šçš„å†…å­˜åœ°å€è®¿é—®ï¼Œè¿™å°±éœ€è¦å„ç§ç±»å‹æ•°æ®æŒ‰ç…§<code>ä¸€å®šçš„è§„åˆ™</code>åœ¨ç©ºé—´ä¸Šæ’åˆ—ï¼Œè€Œä¸æ˜¯<code>é¡ºåº</code>ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å­˜æ”¾ï¼Œè¿™å°±æ˜¯å¯¹é½ã€‚</p><span id="more"></span><h2 id="ä¸ºä»€ä¹ˆè¦å­—èŠ‚å¯¹é½"><a href="#ä¸ºä»€ä¹ˆè¦å­—èŠ‚å¯¹é½" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­—èŠ‚å¯¹é½"></a>ä¸ºä»€ä¹ˆè¦å­—èŠ‚å¯¹é½</h2><ul><li>æŸäº›ç‰¹å®šçš„å¹³å°åªèƒ½ä»ç‰¹å®šçš„åœ°å€å­˜å–ï¼Œè€Œä¸å…è®¸ä»»æ„å­˜æ”¾</li><li>å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œå¦‚æœä¸æŒ‰ç…§å¹³å°çš„è¦æ±‚å¯¹é½ï¼Œä¼šé™ä½ <code>CPU</code> è®¿é—®æ•°æ®çš„é¢‘ç‡ã€‚ä¾‹å¦‚ <code>32</code> ä½çš„å­—é•¿çš„æœºå™¨ï¼Œå¦‚æœæ•°æ®æ²¡æœ‰å­˜åœ¨ <code>4</code> å­—èŠ‚çš„æ•´é™¤çš„å†…å­˜åœ°å€å¤„ï¼Œé‚£ä¹ˆ <code>CPU</code> å°±è¦åˆ†ä¸¤ä¸ªå‘¨æœŸè®¿é—®ã€‚è€Œä¸”åˆç†çš„å­—èŠ‚å¯¹é½ï¼Œè¿˜å¯ä»¥æœ‰æ•ˆèŠ‚çœç©ºé—´</li></ul><h2 id="ç»“æ„ä½“å¯¹é½"><a href="#ç»“æ„ä½“å¯¹é½" class="headerlink" title="ç»“æ„ä½“å¯¹é½"></a>ç»“æ„ä½“å¯¹é½</h2><p>  å…¶å®å­—èŠ‚å¯¹é½çš„é—®é¢˜ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯é’ˆå¯¹å¤åˆç±»å‹çš„ç»“æ„ä½“ï¼Œç»“æ„ä½“çš„æˆå‘˜å˜é‡çš„ä½ç½®æœ‰æ—¶å€™ä¼šå½±å“å­˜å‚¨ç©ºé—´ã€‚</p><h3 id="å¯¹é½å‡†åˆ™"><a href="#å¯¹é½å‡†åˆ™" class="headerlink" title="å¯¹é½å‡†åˆ™"></a>å¯¹é½å‡†åˆ™</h3><ul><li>ç»“æ„ä½“å˜é‡çš„é¦–åœ°å€èƒ½å¤Ÿè¢«å…¶<code>æœ€å®½</code>åŸºæœ¬ç±»å‹æˆå‘˜çš„å¤§å°æ‰€æ•´é™¤</li><li>ç»“æ„ä½“æ¯ä¸ªæˆå‘˜ç›¸å¯¹ç»“æ„ä½“é¦–åœ°å€çš„åç§»é‡<code>offset</code>éƒ½æ˜¯æˆå‘˜å¤§å°çš„æ•´æ•°å€ï¼Œå¦‚æœ‰éœ€è¦ç¼–è¯‘å™¨ä¼šåœ¨æˆå‘˜ä¹‹é—´åŠ ä¸Šå¡«å……å­—èŠ‚ <code>internal adding</code></li><li>ç»“æ„ä½“çš„æ€»å¤§å°ä¸ºç»“æ„ä½“<code>æœ€å®½</code>åŸºæœ¬ç±»å‹æˆå‘˜å¤§å°çš„æ•´æ•°å€ï¼Œå¦‚æœ‰éœ€è¦ç¼–è¯‘å™¨ä¼šåœ¨æœ€æœ«ä¸€ä¸ªæˆå‘˜ä¹‹ååŠ ä¸Šå¡«å……å­—èŠ‚ <code>trailing padding</code></li></ul><p>å‡è®¾æœ‰ä¸‹é¢çš„ç»“æ„ä½“</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> test <span class="keyword">struct</span> &#123;</span><br><span class="line">    a <span class="keyword">uint8</span></span><br><span class="line">    b <span class="keyword">uint64</span></span><br><span class="line">    c <span class="keyword">uint16</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>é€šå¸¸è®¤ä¸ºè¿™ä¸ªç»“æ„ä½“ä¼šå  1 + 8 + 2 = 11 ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯çš„</p></blockquote><p>æ ¹æ®å‡†åˆ™æ¥åˆ†æä¸‹è¯¥ç»“æ„ä½“çš„æ‰€å å­—èŠ‚ã€‚è¿™ä¸ªç»“æ„ä½“æœ€å®½çš„ç±»å‹æˆå‘˜æ˜¯ <code>uint64</code>ã€‚é‚£ä¹ˆå­˜æ”¾çš„åœ°å€å¿…é¡»æ˜¯ <code>åœ°å€ % 8 = 0</code>, è¿™æ˜¯ç¼–è¯‘å™¨çš„è¡Œä¸ºï¼Œæ˜¯ä¸éœ€è¦å¼€å‘è€…ç®¡çš„ï¼ŒçŸ¥é“æ˜¯è¿™ä¹ˆå›äº‹å°±è¡Œäº†ã€‚</p><p>å‡è®¾åœ°å€ä» <code>0x00</code> å¼€å§‹, <code>uint8</code> å ä¸€ä¸ª <code>1</code> å­—èŠ‚, é‚£ä¹ˆä¸‹ä¸ªæˆå‘˜å°±æ˜¯ä» <code>0x01</code> å¼€å§‹ï¼Œä¸‹ä¸€ä¸ªæˆå‘˜å äº† <code>8</code> ä¸ªå­—èŠ‚,æ ¹æ®ç¬¬äºŒæ¡å‡†åˆ™æˆå‘˜ç›¸å¯¹é¦–åœ°å€éƒ½æ˜¯æˆå‘˜å¤§å°æ•´æ•°å€ã€‚å¾ˆæ˜¾ç„¶ <code>uint64</code> è¿™ä¸ªæˆå‘˜ä» <code>0x08</code> å¼€å§‹å¡«å……ï¼Œ<code>uint8</code> å’Œ <code>uint64</code> ä¹‹é—´çš„ç©ºé—´ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¡«å……å­—èŠ‚ã€‚<br>uint64 å¡«å……ä¹‹ååœ°å€æ¥åˆ° 0x16ã€‚uint16 å äº†ä¸¤ä¸ªå­—èŠ‚ï¼Œæ­£å¥½å¯ä»¥æ•´é™¤ã€‚é‚£ä¹ˆ uint16 å°±ä¼šç´§æ¥ uint16 å¡«å……ã€‚æ³¨æ„ï¼Œè¿™é‡Œæ²¡æœ‰ç»“æŸã€‚æœ€åä¸€æ¡å‡†åˆ™ç»“æ„ä½“æ€»å¤§å°å¿…é¡»æ˜¯æœ€å¤§æˆå‘˜å®½åº¦çš„æ•´æ•°å€ã€‚æ‰€ä»¥ uint16 æˆå‘˜ä¹‹åä¹Ÿä¼šè¢«å¡«å……å­—èŠ‚ã€‚</p><p>é‚£ä¹ˆè¿™ä¸ªç»“æ„çš„å¤§å°å°±æ˜¯ <strong>8 + 8 + 8 = 24</strong>ã€‚å¹¶ä¸æ˜¯ <strong>11</strong>ã€‚</p><p>æ¥çœ‹ä¸€ä¸‹å®é™…åœ°å€</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> test test</span><br><span class="line"></span><br><span class="line">fmt.Println(unsafe.Sizeof(test)) <span class="comment">// 24 ä¸ªå­—èŠ‚</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%p %p %p&quot;</span>, &amp;test.a, &amp;test.b, &amp;test.c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>a åœ°å€ 0xc000016180/ b åœ°å€ 0xc000016188/ c åœ°å€ 0xc000016190</p></blockquote><p>å’Œé¢„æ–™çš„ä¸€æ ·ã€‚æ¯ä¸ªåœ°å€é—´ç›¸å·®å…«ä¸ªå­—èŠ‚ã€‚</p><p>å¯¹äºå­—èŠ‚å¯¹é½è€Œè¨€ï¼Œå…¶å®éƒ½æ˜¯ç¼–è¯‘å™¨çš„è¡Œä¸ºï¼Œå¼€å‘è€…æ— æ³•æ”¹å˜ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒæ•´æˆå‘˜å˜é‡æ¥å‡å°‘å†…å­˜å­˜å‚¨ç©ºé—´ã€‚å¯¹äºä¸Šé¢çš„ç»“æ„ä½“è€Œè¨€ï¼Œå¯ä»¥ç¨ä½œè°ƒæ•´ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> test <span class="keyword">struct</span> &#123;</span><br><span class="line">    a <span class="keyword">uint8</span></span><br><span class="line">    c <span class="keyword">uint16</span></span><br><span class="line">    b <span class="keyword">uint64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¸‹</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> test test</span><br><span class="line"></span><br><span class="line">fmt.Println(unsafe.Sizeof(test)) <span class="comment">// 16 ä¸ªå­—èŠ‚</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%p %p %p&quot;</span>, &amp;test.a,  &amp;test.c, &amp;test.b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>aåœ°å€ 0xc00001c090/ c åœ°å€ 0xc00001c092/ båœ°å€ 0xc00001c098</p></blockquote><p>é€šè¿‡ä¸Šé¢çš„ä¸‰å¤§å‡†åˆ™å¯ä»¥æ¨æµ‹å‡ºï¼Œè¿™ä¸ªç»“æ„å®é™…å°±æ˜¯ <code>16</code> å­—èŠ‚ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯å­—èŠ‚å¯¹é½&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯å­—èŠ‚å¯¹é½&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯å­—èŠ‚å¯¹é½&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯å­—èŠ‚å¯¹é½&lt;/h2&gt;&lt;p&gt;ç°ä»£è®¡ç®—æœºä¸­ï¼Œ&lt;code&gt;å†…å­˜ç©ºé—´&lt;/code&gt;æŒ‰ç…§å­—èŠ‚åˆ’åˆ†ï¼Œç†è®ºä¸Šå¯ä»¥ä»ä»»ä½•èµ·å§‹åœ°å€è®¿é—®ä»»æ„ç±»å‹çš„å˜é‡ã€‚ä½†å®é™…ä¸­åœ¨è®¿é—®ç‰¹å®šç±»å‹å˜é‡æ—¶ç»å¸¸åœ¨ç‰¹å®šçš„å†…å­˜åœ°å€è®¿é—®ï¼Œè¿™å°±éœ€è¦å„ç§ç±»å‹æ•°æ®æŒ‰ç…§&lt;code&gt;ä¸€å®šçš„è§„åˆ™&lt;/code&gt;åœ¨ç©ºé—´ä¸Šæ’åˆ—ï¼Œè€Œä¸æ˜¯&lt;code&gt;é¡ºåº&lt;/code&gt;ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å­˜æ”¾ï¼Œè¿™å°±æ˜¯å¯¹é½ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="go" scheme="https://jaguarjack.github.io/tags/go/"/>
    
    <category term="å­—èŠ‚å¯¹é½" scheme="https://jaguarjack.github.io/tags/%E5%AD%97%E8%8A%82%E5%AF%B9%E9%BD%90/"/>
    
  </entry>
  
  <entry>
    <title>Laravel éå¸¸æœ‰ç”¨å´ä¸å¸¸ç”¨çš„æ–¹æ³•è®°å½•</title>
    <link href="https://jaguarjack.github.io/2019/05/15/laravel-userfule-method/"/>
    <id>https://jaguarjack.github.io/2019/05/15/laravel-userfule-method/</id>
    <published>2019-05-14T22:11:59.000Z</published>
    <updated>2021-06-16T01:05:39.125Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç¯‡åšå®¢è®°å½•ä¸€äº› Laravel æ¡†æ¶ä¸€äº›ä¸å¸¸ç”¨ä½†éå¸¸å®ç”¨çš„æ–¹æ³•ã€‚æˆ–è€…ä¸€äº›éå¸¸æœ‰ç”¨çš„å°æŠ€å·§ï¼Œå¯ä»¥æ˜¾è‘—æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚å¹¶ä¸”è®°å½•ä¸€äº›éš¾ä»¥å‘ç°çš„æŠ€å·§æ€§çš„ä½¿ç”¨ã€‚</p><span id="more"></span><h2 id="è·å–è¡¨ç»“æ„ä¿¡æ¯"><a href="#è·å–è¡¨ç»“æ„ä¿¡æ¯" class="headerlink" title="è·å–è¡¨ç»“æ„ä¿¡æ¯"></a>è·å–è¡¨ç»“æ„ä¿¡æ¯</h2><p>ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äº <code>Laravel</code> è·å–è¡¨ä¿¡æ¯çš„æ–‡ç« ï¼Œå¾ˆå¤šéƒ½æ˜¯è¿™æ ·çš„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ•°æ®åº“æ‰€æœ‰è¡¨ä¿¡æ¯</span></span><br><span class="line">DB::select(<span class="string">&#x27;show tables&#x27;</span>)</span><br><span class="line"><span class="comment">// è·å–è¡¨ column ä¿¡æ¯</span></span><br><span class="line">Db::select(<span class="string">&#x27;show full columns from  $table&#x27;</span>)</span><br><span class="line"><span class="comment">// è·å–è¡¨ä¿¡æ¯</span></span><br><span class="line">DB::select(<span class="string">&#x27;show table status&#x27;</span>))</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™æ ·æ˜¯å¯ä»¥è·å–åˆ°çš„ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œå…³é”®è¿™æ ·è®©ä»£ç çœ‹èµ·æ¥æœ‰ç‚¹éš¾å—ï¼Œå…¶å® <code>Laravel</code> æä¾›äº†ä¸€ç³»åˆ—è¿™æ ·çš„æ“ä½œã€‚ä¸‹é¢æ¥æä¾›è¯¥æ¼”ç¤º:</p><h3 id="è·å–æ‰€æœ‰è¡¨"><a href="#è·å–æ‰€æœ‰è¡¨" class="headerlink" title="è·å–æ‰€æœ‰è¡¨"></a>è·å–æ‰€æœ‰è¡¨</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\Illuminate\Support\Facades\DB::connection()-&gt;getDoctrineSchemaManager()-&gt;listTableNames())</span><br></pre></td></tr></table></figure><h3 id="è·å–è¡¨æ‰€æœ‰-Column-å­—æ®µ"><a href="#è·å–è¡¨æ‰€æœ‰-Column-å­—æ®µ" class="headerlink" title="è·å–è¡¨æ‰€æœ‰ Column å­—æ®µ"></a>è·å–è¡¨æ‰€æœ‰ Column å­—æ®µ</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\Illuminate\Support\Facades\Schema::getColumnListing(<span class="string">&#x27;table&#x27;</span>))</span><br></pre></td></tr></table></figure><h3 id="è·å–è¡¨å•ä¸ªå­—æ®µçš„ä¿¡æ¯"><a href="#è·å–è¡¨å•ä¸ªå­—æ®µçš„ä¿¡æ¯" class="headerlink" title="è·å–è¡¨å•ä¸ªå­—æ®µçš„ä¿¡æ¯"></a>è·å–è¡¨å•ä¸ªå­—æ®µçš„ä¿¡æ¯</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å•ä¸ªå­—æ®µä¿¡æ¯</span></span><br><span class="line"><span class="variable">$field</span> = \Illuminate\Support\Facades\DB::connection()-&gt;getDoctrineColumn(<span class="string">&#x27;table&#x27;</span>, <span class="string">&#x27;field_name&#x27;</span>)</span><br><span class="line"><span class="variable">$field</span>-&gt;getComment(); <span class="comment">// è·å–æ³¨é‡Š</span></span><br><span class="line"><span class="variable">$field</span>-&gt;getType(); <span class="comment">// è·å–ç±»å‹</span></span><br></pre></td></tr></table></figure><h3 id="è·å–è¡¨ä¿¡æ¯"><a href="#è·å–è¡¨ä¿¡æ¯" class="headerlink" title="è·å–è¡¨ä¿¡æ¯"></a>è·å–è¡¨ä¿¡æ¯</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\Illuminate\Support\Facades\DB::connection()-&gt;getDoctrineSchemaManager()-&gt;listTableDetails(<span class="string">&#x27;table&#x27;</span>)-&gt;getOptions());</span><br></pre></td></tr></table></figure><h2 id="æ•°æ®åº“æ“ä½œ"><a href="#æ•°æ®åº“æ“ä½œ" class="headerlink" title="æ•°æ®åº“æ“ä½œ"></a>æ•°æ®åº“æ“ä½œ</h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ¬ç¯‡åšå®¢è®°å½•ä¸€äº› Laravel æ¡†æ¶ä¸€äº›ä¸å¸¸ç”¨ä½†éå¸¸å®ç”¨çš„æ–¹æ³•ã€‚æˆ–è€…ä¸€äº›éå¸¸æœ‰ç”¨çš„å°æŠ€å·§ï¼Œå¯ä»¥æ˜¾è‘—æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚å¹¶ä¸”è®°å½•ä¸€äº›éš¾ä»¥å‘ç°çš„æŠ€å·§æ€§çš„ä½¿ç”¨ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="laravel" scheme="https://jaguarjack.github.io/tags/laravel/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ IE/Edge å¯¼å‡º Excel ä¸­æ–‡æ–‡ä»¶åä¹±ç </title>
    <link href="https://jaguarjack.github.io/2019/05/09/ie-urlencode/"/>
    <id>https://jaguarjack.github.io/2019/05/09/ie-urlencode/</id>
    <published>2019-05-08T22:29:03.000Z</published>
    <updated>2021-06-16T01:05:39.123Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>é¡¹ç›®ä¸­å¯¼å‡º Excel çš„æ—¶å€™ï¼Œç”±äºæ–‡ä»¶åè®¾ç½®çš„æ˜¯ä¸­æ–‡å­—ç¬¦ä¸²ï¼Œåœ¨ Google æµè§ˆå™¨æ˜¯æ­£å¸¸çš„å¯¼å‡ºï¼Œæ–‡ä»¶åä¸ä¼šå‡ºç°ä¹±ç ï¼Œä½†æ˜¯åœ¨ Edge/IE æµè§ˆå™¨ä¸‹å°±ä¼šå‡ºç°ä¹±ç çš„æƒ…å†µã€‚Google ä¸€ä¸‹ä½ ä¼šæœåˆ°å¾ˆå¤šç­”æ¡ˆï¼Œå½“ç„¶å¾ˆå¤šéƒ½æ˜¯ä¸é è°±çš„ï¼Œæœ€åé—®é¢˜æ˜¯è§£å†³äº†ã€‚ä½†æ˜¯é‡åˆ°è¿™ä¸ªé—®é¢˜çš„äººå¹¶æ²¡æœ‰è¯´æ˜ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œç©¶å…¶æ ¹æºï¼Œçœ‹åšå®¢çš„æ„æ€åº”è¯¥æ˜¯ä»å¢™å¤–æ‰¾åˆ°çš„ç­”æ¡ˆã€‚</p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>è§£å†³è¿™ä¸ªå¾ˆç®€å•ï¼Œä½†æ˜¯éœ€è¦åšçš„å°±æ˜¯å»äº†è§£ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Œä¸‹é¢æ˜¯è§£å†³åŠæ³•ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">encodeFileName</span>(<span class="params"><span class="variable">$filename</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$ua</span> = strtolower(<span class="variable">$_SERVER</span>(<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºIEæˆ–Edgeæµè§ˆå™¨</span></span><br><span class="line">        <span class="keyword">if</span>(preg_match(<span class="string">&#x27;/msie/&#x27;</span>, <span class="variable">$ua</span>) || preg_match(<span class="string">&#x27;/edge/&#x27;</span>, <span class="variable">$ua</span>)) &#123;</span><br><span class="line">            <span class="comment">//ä½¿ç”¨ urlencode å¯¹æ–‡ä»¶åè¿›è¡Œé‡æ–°ç¼–ç </span></span><br><span class="line">            <span class="keyword">return</span> str_replace(<span class="string">&#x27;+&#x27;</span>, <span class="string">&#x27;%20&#x27;</span>, urlencode(<span class="variable">$filename</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$filename</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®é—®é¢˜è§£å†³æ˜¯å¾ˆç®€å•çš„ï¼Œä½¿ç”¨<code>urlencode</code>å‡½æ•°å°±å¯ä»¥äº†ã€‚ä¸‹é¢æ…¢æ…¢é“æ¥ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;é¡¹ç›®ä¸­å¯¼å‡º Excel çš„æ—¶å€™ï¼Œç”±äºæ–‡ä»¶åè®¾ç½®çš„æ˜¯ä¸­æ–‡å­—ç¬¦ä¸²ï¼Œåœ¨ Google æµè§ˆå™¨æ˜¯æ­£å¸¸çš„å¯¼å‡ºï¼Œæ–‡ä»¶åä¸ä¼šå‡ºç°ä¹±ç ï¼Œä½†æ˜¯åœ¨ Edge/I</summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="excel" scheme="https://jaguarjack.github.io/tags/excel/"/>
    
  </entry>
  
  <entry>
    <title>Nginx å­¦ä¹ ç¬”è®°</title>
    <link href="https://jaguarjack.github.io/2019/05/08/nginx-conf/"/>
    <id>https://jaguarjack.github.io/2019/05/08/nginx-conf/</id>
    <published>2019-05-08T08:06:54.000Z</published>
    <updated>2021-06-16T01:05:39.130Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« ä¸»è¦è®°å½• Nginx ä¸€äº›å­¦ä¹ å’Œç¬”è®°ã€‚è¿˜æœ‰é‡åˆ°çš„é—®é¢˜ã€‚</p><h2 id="nginx-conf-æ–‡ä»¶ç»“æ„"><a href="#nginx-conf-æ–‡ä»¶ç»“æ„" class="headerlink" title="nginx.conf æ–‡ä»¶ç»“æ„"></a>nginx.conf æ–‡ä»¶ç»“æ„</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">... # å…¨å±€æ¨¡å—</span><br><span class="line"></span><br><span class="line"># events æ¨¡å—</span><br><span class="line">events &#123;</span><br><span class="line">  ....</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># httpå—</span><br><span class="line">http &#123;</span><br><span class="line">    # http å…¨å±€å—</span><br><span class="line">    ...</span><br><span class="line">    # server å—</span><br><span class="line">    server</span><br><span class="line">    &#123;</span><br><span class="line">        # server å…¨å±€å—</span><br><span class="line">        ...</span><br><span class="line">        # location å—</span><br><span class="line">        location [PATTERN]</span><br><span class="line">        &#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±ä¸Šé¢ä»¥å¤§æ‹¬å·ä¸ºåˆ†å‰² Nginx.conf å¯åˆ†ä¸ºä¸‰å¤§å—<code>å…¨å±€å—</code>, <code>events</code>, <code>http</code>ã€‚å…¶ä¸­ http æ¨¡å—é‡Œé¢æœ‰åˆ†ä¸º <code>å…¨å±€å—</code>, <code>server</code> ä¸¤ä¸ªå—ã€‚server å¯ä»¥æœ‰å¤šä¸ªã€‚server é‡Œé¢åˆåˆ†ä¸º <code>å…¨å±€</code> å’Œ <code>location</code> ä¸¤ä¸ªæ¨¡å—ã€‚location ä¹Ÿæ˜¯å¯ä»¥æœ‰å¤šä¸ªã€‚åœ¨ Nginx ä½¿ç”¨æ–¹é¢ï¼Œå¤§å¤šæ•°éƒ½ä½“ç°åœ¨é…ç½®æ–‡ä»¶ã€‚åº”ç”¨æ–¹é¢ä¹Ÿä½“ç°åœ¨é…ç½®äº†ï¼Œå½“ç„¶ Nginx é…ç½®æ˜¯å¾ˆä¸°å¯Œå¤šæ ·çš„ã€‚</p><h3 id="å…¨å±€æ¨¡å—"><a href="#å…¨å±€æ¨¡å—" class="headerlink" title="å…¨å±€æ¨¡å—"></a>å…¨å±€æ¨¡å—</h3><p>å…¨å±€æ¨¡å—æ˜¯é»˜è®¤é…ç½®æ–‡ä»¶å¼€å§‹åˆ° events è¿™ä¸€å—å†…å®¹ï¼Œä¸»è¦è®¾ç½®ä¸€äº› Nginx è¿è¡ŒæŒ‡ä»¤ï¼Œé€šå¸¸åŒ…æ‹¬ Nginx è¿è¡Œçš„ç”¨æˆ·/ç»„ï¼Œworker proccess æ•°ï¼ŒMaster è¿›ç¨‹ PID å­˜å‚¨è·¯å¾„ï¼Œæ—¥å¿—çš„å­˜æ”¾è·¯å¾„ä»¥åŠé…ç½®æ–‡ä»¶çš„å¼•å…¥ç­‰ç­‰ã€‚</p><h3 id="events-æ¨¡å—"><a href="#events-æ¨¡å—" class="headerlink" title="events æ¨¡å—"></a>events æ¨¡å—</h3><p>events æ¨¡å—ä¸»è¦æ˜¯ Nginx ä¸ç”¨æˆ·é“¾æ¥çš„è®¾ç½®ã€‚åŒ…æ‹¬è®¾ç½®äº‹ä»¶é©±åŠ¨æ¨¡å‹å’Œæ¯ä¸ª worker proccess å…è®¸çš„æœ€å¤§é“¾æ¥æ•°ç›®ï¼Œè¿™éƒ¨åˆ†è®¾ç½®å¯¹ Nginx çš„æ€§èƒ½å½±å“å¾ˆå¤§ï¼Œä¸»è¦ä½“ç°äº‹ä»¶é©±åŠ¨ä¸Šã€‚</p><h3 id="Http-æ¨¡å—"><a href="#Http-æ¨¡å—" class="headerlink" title="Http æ¨¡å—"></a>Http æ¨¡å—</h3><p>Http æ¨¡å—æ˜¯ Nginx æœåŠ¡çš„é‡è¦éƒ¨åˆ†ï¼Œä»£ç†ï¼Œç¼“å­˜å’Œæ—¥å¿—ç­‰ç»å¤§æ•°åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹æ¨¡å—éƒ½æ˜¯æ”¾åœ¨è¿™ä¸ªæ¨¡å—ä¸­ã€‚</p><h4 id="Httpå…¨å±€å—"><a href="#Httpå…¨å±€å—" class="headerlink" title="Httpå…¨å±€å—"></a>Httpå…¨å±€å—</h4><p>Http å…¨å±€å—ä¸­é…ç½®çš„æŒ‡ä»¤åŒ…æ‹¬æ–‡ä»¶å¼•å…¥ï¼ŒMIME-Type å®šä¹‰ï¼Œæ—¥å¿—è‡ªå®šä¹‰ï¼Œæ˜¯å¦ä½¿ç”¨ sendfile ä¼ è¾“æ–‡ä»¶ï¼Œé“¾æ¥è¶…æ—¶æ—¶é—´ï¼Œä½†é“¾æ¥è¯·æ±‚ä¸Šé™ç­‰ã€‚</p><h4 id="Server-æ¨¡å—"><a href="#Server-æ¨¡å—" class="headerlink" title="Server æ¨¡å—"></a>Server æ¨¡å—</h4><p>Http å—ä¸­å¯ä»¥åŒ…å«å¤šä¸ª Server æ¨¡å—ï¼Œæ¯ä¸ª Server æ¨¡å—å¯¹åº”ç€ä¸€å°è™šæ‹Ÿæœºï¼Œå¯ä»¥ä¸ºå¤šå°ä¸»æœºæä¾›æœåŠ¡ï¼Œæ³¨æ„è¿™é‡Œæ˜¯ä¸€ç»„é€»è¾‘ä¸Šå…³ç³»ã€‚</p><h5 id="Server-å…¨å±€æ¨¡å—"><a href="#Server-å…¨å±€æ¨¡å—" class="headerlink" title="Server å…¨å±€æ¨¡å—"></a>Server å…¨å±€æ¨¡å—</h5><p>Server å…¨å±€æ¨¡å—æä¾›ä¸€äº›åŸºç¡€åŠŸèƒ½ï¼Œ åŒ…æ‹¬è™šæ‹Ÿæœºçš„ç›‘å¬é…ç½®å’Œé…ç½®è™šæ‹Ÿæœºçš„åç§°æˆ–è€… IP åœ°å€ã€‚</p><h5 id="Location-æ¨¡å—"><a href="#Location-æ¨¡å—" class="headerlink" title="Location æ¨¡å—"></a>Location æ¨¡å—</h5><p>Server æ¨¡å—çš„å¤§å¤šæ•°åŠŸèƒ½éƒ½åœ¨ Location ä¸­å®ç°ï¼Œå…¶å®æ•´ä¸ª Nginx é…ç½®é‡è¦çš„é…ç½®éƒ½åœ¨è¿™å—ï¼Œlocation ä¸»è¦å¯¹ Nginx çš„æ¥æ”¶çš„ uri è¿›è¡ŒåŒ¹é…ï¼Œå¯¹ç‰¹å®šçš„è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œåœ°å€å®šå‘ï¼Œæ•°æ®ç¼“å­˜å’Œåº”ç­”ç­‰æ§åˆ¶åŠŸèƒ½éƒ½æ˜¯åœ¨è¿™éƒ¨åˆ†å®ç°ï¼Œç¬¬ä¸‰æ–¹æ¨¡å—ä¹Ÿæä¾›äº†è¿™å—çš„åŠŸèƒ½</p><h2 id="æ—¶åºå›¾"><a href="#æ—¶åºå›¾" class="headerlink" title="æ—¶åºå›¾"></a>æ—¶åºå›¾</h2><p>ç”¨æµç¨‹å›¾è¡¨ç¤ºå¯èƒ½æ›´åŠ æ˜æ˜¾ï¼Œæ¥çœ‹ä¸€ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">graph LR;</span><br><span class="line">    Nginx.conf--&gt;id1&#123;å…¨å±€æ¨¡å—&#125;;</span><br><span class="line">    Nginx.conf--&gt;id2&#123;Eventæ¨¡å—&#125;;</span><br><span class="line">    Nginx.conf--&gt;id3&#123;Httpæ¨¡å—&#125;;</span><br><span class="line">    id1&#123;å…¨å±€æ¨¡å—&#125;--&gt;è¿è¡Œç”¨æˆ·ç»„;</span><br><span class="line">    id1&#123;å…¨å±€æ¨¡å—&#125;--&gt;workerProccessæ•°ç›®;</span><br><span class="line">    id1&#123;å…¨å±€æ¨¡å—&#125;--&gt;MasterPIDå­˜å‚¨è·¯å¾„;</span><br><span class="line">    id1&#123;å…¨å±€æ¨¡å—&#125;--&gt;æ—¥å¿—å­˜æ”¾è·¯å¾„;</span><br><span class="line">    id1&#123;å…¨å±€æ¨¡å—&#125;--&gt;é…ç½®æ–‡ä»¶å¼•å…¥;</span><br><span class="line">    id2&#123;Eventæ¨¡å—&#125;--&gt;äº‹ä»¶é©±åŠ¨æ¨¡å‹;</span><br><span class="line">    id2&#123;Eventæ¨¡å—&#125;--&gt;å…è®¸æœ€å¤§é“¾æ¥æ•°ç›®;</span><br><span class="line">    id3&#123;Httpæ¨¡å—&#125;--&gt;Httpå…¨å±€æ¨¡å—;</span><br><span class="line">    Httpå…¨å±€æ¨¡å—--&gt;æ–‡ä»¶å¼•å…¥;</span><br><span class="line">    Httpå…¨å±€æ¨¡å—--&gt;MIME-Typeå®šä¹‰;</span><br><span class="line">    Httpå…¨å±€æ¨¡å—--&gt;è‡ªå®šä¹‰æ—¥å¿—;</span><br><span class="line">    Httpå…¨å±€æ¨¡å—--&gt;sendfileä¼ è¾“æ–‡ä»¶;</span><br><span class="line">    Httpå…¨å±€æ¨¡å—--&gt;é“¾æ¥è¶…æ—¶;</span><br><span class="line">    Httpå…¨å±€æ¨¡å—--&gt;é“¾æ¥è¯·æ±‚ä¸Šé™;</span><br><span class="line">    id3&#123;Httpæ¨¡å—&#125;--&gt;Serveræ¨¡å—;</span><br><span class="line">    Serveræ¨¡å—--&gt;Serverå…¨å±€æ¨¡å—;</span><br><span class="line">    Serverå…¨å±€æ¨¡å—--&gt;è™šæ‹Ÿæœºçš„ç›‘å¬;</span><br><span class="line">    Serverå…¨å±€æ¨¡å—--&gt;é…ç½®è™šæ‹Ÿæœºåç§°æˆ–è€…IPåœ°å€;</span><br><span class="line">    Serveræ¨¡å—--&gt;Locationæ¨¡å—;</span><br><span class="line">    Locationæ¨¡å—--&gt;è¯·æ±‚å¤„ç†; </span><br><span class="line">    Locationæ¨¡å—--&gt;åœ°å€å®šå‘;</span><br><span class="line">    Locationæ¨¡å—--&gt;æ•°æ®ç¼“å­˜; </span><br><span class="line">    Locationæ¨¡å—--&gt;è¯·æ±‚åº”ç­”; </span><br><span class="line">    Locationæ¨¡å—--&gt;åå‘ä»£ç†; </span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦è®°å½• Nginx ä¸€äº›å­¦ä¹ å’Œç¬”è®°ã€‚è¿˜æœ‰é‡åˆ°çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;nginx-conf-æ–‡ä»¶ç»“æ„&quot;&gt;&lt;a href=&quot;#nginx-conf-æ–‡ä»¶ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;nginx.conf æ–‡ä»¶ç»“æ„&quot;&gt;&lt;/a&gt;ng</summary>
      
    
    
    
    <category term="æœåŠ¡å™¨è¿ç»´" scheme="https://jaguarjack.github.io/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="æœåŠ¡å™¨" scheme="https://jaguarjack.github.io/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="nginx" scheme="https://jaguarjack.github.io/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>leetcode ç®€å•é¢˜ï¼ˆä¸€ï¼‰</title>
    <link href="https://jaguarjack.github.io/2019/05/07/leetcode-easy-one/"/>
    <id>https://jaguarjack.github.io/2019/05/07/leetcode-easy-one/</id>
    <published>2019-05-07T15:02:42.000Z</published>
    <updated>2021-06-16T01:05:39.126Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h2><p>Given an array of integers, return indices of the two numbers such that they add up to a specific target.</p><p>You may assume that each input would have exactly one solution, and you may not use the same element twice.</p><p>Example:</p><blockquote><p>Given nums = [2, 7, 11, 15], target = 9,</p></blockquote><p>Because nums[0] + nums[1] = 2 + 7 = 9,<br>return [0, 1].</p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ä¸Šæ¥ä¸ç”±åˆ†è¯´ï¼Œå…ˆæ¥ä¸€ä¸ª For å†è¯´ğŸ˜„</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumtotarget</span><span class="params">(nums []<span class="keyword">int</span>, target <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"> l := <span class="built_in">len</span>(nums)</span><br><span class="line"><span class="keyword">for</span> i, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">r := target - v</span><br><span class="line"><span class="keyword">for</span> j:=i+<span class="number">1</span>; j &lt; l; j++ &#123;</span><br><span class="line"><span class="keyword">if</span> r == nums[j] &#123;</span><br><span class="line"><span class="keyword">return</span> []<span class="keyword">int</span>&#123;i, j&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œç¾æˆåŠŸè¿è¡Œäº†ï¼Œå“ˆå“ˆã€‚æƒ³æƒ³è¿™æ ·ä¸è¡Œå•Š O(n^2)ã€‚ç„¶åä»”ç»†æƒ³äº†ä¸€ä¸‹ï¼Œå¯ä»¥åˆ©ç”¨ map çš„ç‰¹æ€§æ¥å¤„ç†ï¼Œå°±æœ‰ä¸‹é¢è¿™ä¸€æ®µä»£ç ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumtotarget</span><span class="params">(nums []<span class="keyword">int</span>, target <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">numbers := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">for</span> i, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">j, ok := numbers[v]</span><br><span class="line">numbers[target - v] = i</span><br><span class="line"><span class="keyword">if</span> ok &#123;</span><br><span class="line"><span class="keyword">return</span> []<span class="keyword">int</span>&#123;j, i&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€åˆ·ï¼Œç®€å•é¢˜éƒ½æ‰›ä¸ä½äº†ã€‚åªèƒ½æ…¢æ…¢æ¥äº†</p><h2 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h2><p>Given a 32-bit signed integer, reverse digits of an integer.</p><p>Example 1:</p><blockquote><p>Input: 123<br>Output: 321</p></blockquote><p>Example 2:</p><blockquote><p>Input: -123<br>Output: -321</p></blockquote><p>Example 3:</p><blockquote><p>Input: 120<br>Output: 21</p></blockquote><p>Note:<br>Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [âˆ’231,  231 âˆ’ 1]. For the purpose of this problem, assume that your function returns 0 when the reversed integer overflows.</p><h2 id="è§£å†³-1"><a href="#è§£å†³-1" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>æ³¨æ„çš„å°±æ˜¯ int32 æº¢å‡ºçš„é—®é¢˜äº†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverse</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> num <span class="keyword">int</span></span><br><span class="line"><span class="keyword">for</span>  &#123;</span><br><span class="line">n := x % <span class="number">10</span></span><br><span class="line"><span class="keyword">if</span> x == <span class="number">0</span> &amp;&amp; n == <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">x = x / <span class="number">10</span></span><br><span class="line">num = num * <span class="number">10</span> + n</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// -2147483648 åˆ° 2147483647</span></span><br><span class="line"><span class="keyword">if</span> num &gt; math.MaxInt32 || num &lt; math.MinInt32 &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span>  num</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é—®é¢˜ä¸‰"><a href="#é—®é¢˜ä¸‰" class="headerlink" title="é—®é¢˜ä¸‰"></a>é—®é¢˜ä¸‰</h2><p>Determine whether an integer is a palindrome. An integer is a palindrome when it reads the same backward as forward.</p><p>Example 1:</p><blockquote><p>Input: 121<br>Output: true</p></blockquote><p>Example 2:</p><blockquote><p>Input: -121<br>Output: false</p></blockquote><p>Explanation: From left to right, it reads -121. From right to left, it becomes 121-. Therefore it is not a palindrome.<br>Example 3:</p><blockquote><p>Input: 10<br>Output: false</p></blockquote><p>Explanation: Reads 01 from right to left. Therefore it is not a palindrome.</p><h2 id="è§£å†³-2"><a href="#è§£å†³-2" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>è¿™é“é¢˜æ•°å­—å›æ–‡ï¼Œå…¶å®å’Œä¸Šé¢çš„åè½¬æ˜¯ä¸€ä¸ªé“ç†ï¼Œå°±æ˜¯æ¯”è¾ƒåè½¬åçš„æ•°å­—å’Œå®å‚æ˜¯å¦ç›¸ç­‰å°±å¯ä»¥äº†ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isPalindrome</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> x &lt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num <span class="keyword">int</span></span><br><span class="line">cache := x</span><br><span class="line"><span class="keyword">for</span>  &#123;</span><br><span class="line">n := x % <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x == <span class="number">0</span> &amp;&amp; n == <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">x = x / <span class="number">10</span></span><br><span class="line">num = num * <span class="number">10</span> + n</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> cache == num &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é—®é¢˜ä¸€&quot;&gt;&lt;a href=&quot;#é—®é¢˜ä¸€&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜ä¸€&quot;&gt;&lt;/a&gt;é—®é¢˜ä¸€&lt;/h2&gt;&lt;p&gt;Given an array of integers, return indices of the two numbers such</summary>
      
    
    
    
    <category term="leetcode" scheme="https://jaguarjack.github.io/categories/leetcode/"/>
    
    
    <category term="leetcode" scheme="https://jaguarjack.github.io/tags/leetcode/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Next ä¸»é¢˜å¢åŠ æ–°çš„ç¬¬ä¸‰æ–¹è¯„è®ºç³»ç»Ÿ utterance</title>
    <link href="https://jaguarjack.github.io/2019/05/06/hexo-add-comment/"/>
    <id>https://jaguarjack.github.io/2019/05/06/hexo-add-comment/</id>
    <published>2019-05-06T14:00:19.000Z</published>
    <updated>2021-06-16T01:05:39.123Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>åšå®¢æœ€è¿‘åˆ‡æ¢åˆ°äº† <code>hexo</code> åšå®¢, ç›®å‰ç”¨èµ·æ¥æ„Ÿè§‰å¾ˆæ–¹ä¾¿ã€‚å¾ˆå–œæ¬¢ markdown å†™ä½œã€‚å½“ç„¶åˆ©ç”¨ Github Pages ä¹Ÿçœä¸‹äº†ä¸€ç¬”è´¹ç”¨ï¼ŒæŸå¥—è·¯äº‘çš„å¥—è·¯ä»¤äººæ„Ÿåˆ°æ¶å¿ƒã€‚è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚ä¸ºä»€ä¹ˆè¦æ¢è¯„è®ºå‘¢ï¼Ÿå› ä¸ºæˆ‘ä½¿ç”¨çš„ <code>next</code> ä¸»é¢˜çš„è¯„è®ºéƒ½ä¸å¤ªåˆæˆ‘çš„å¿ƒæ„ï¼ŒDisqus å¾ˆå¥½ï¼Œä½†æ˜¯å¹¿å‘Šå¤ªå¤šï¼Œå…¶ä»–ä»¿ git çš„è¯„è®ºæ€»è§‰å¾—åˆ«æ‰­ï¼Œäºæ˜¯æˆ‘ä¹Ÿç¿»äº†æ‰¾æ‰¾çœ‹ï¼Œå‘ç°äº† <code>utterance</code>ï¼Œè§‰å¾—æŒºä¸é”™çš„ï¼Œç®€æ´é£æ ¼ä¹Ÿä¸ç¼ºå¤±ã€‚æ‰€ä»¥å°±æ‰“ç®—æ¢è¿™ä¸ªäº†ã€‚</p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>hexo çš„ä¸»é¢˜æ”¹èµ·æ¥è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œä»é…ç½®å¼€å§‹ï¼Œç„¶åæ·»åŠ ä¸€å°æ®µçš„æ¨¡å—ä»£ç å°±å¯ä»¥äº†ã€‚æ ‡ç­¾ä¹Ÿå¯ä»¥ä»¿ç…§å…¶ä»–æ–‡ä»¶ï¼ŒSo Easyï¼å¼€å§‹åŠ¨æ‰‹å§ã€‚åœ¨è¿™ä¹‹å‰éœ€è¦åˆ° <a href="https://github.com/apps/utterances">utterances app</a> ç”³è¯·ä¸€ä¸‹ï¼Œè¿™æ · utterances æ‰æœ‰æƒé™è®¿é—®ä½ çš„ä»“åº“ã€‚</p><h3 id="æ·»åŠ é…ç½®"><a href="#æ·»åŠ é…ç½®" class="headerlink" title="æ·»åŠ é…ç½®"></a>æ·»åŠ é…ç½®</h3><p>æ‰¾åˆ° Next ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ _config.ymlï¼Œé…ç½®éšä¾¿ä½ æ·»åŠ åˆ°å“ªé‡Œã€‚ä½ å¯ä»¥æ”¾åœ¨æ–‡ä»¶æœ«å°¾æˆ–è€…å¯ä»¥å’Œå…¶ä»–è¯„è®ºæ¨¡å—é…ç½®æ”¾åœ¨ä¸€å—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">utterance:</span><br><span class="line">  enable: <span class="literal">true</span></span><br><span class="line">  <span class="attr">repo</span>: #ä»“åº“åå­—</span><br><span class="line">  <span class="attr">theme</span>: #ä¸»é¢˜</span><br><span class="line">  issue-term: #æ˜ å°„é…ç½®</span><br></pre></td></tr></table></figure><p>è¯„è®ºä¸»é¢˜çš„ theme é€‰é¡¹å¦‚ä¸‹:</p><blockquote><ul><li>github-light</li></ul></blockquote><ul><li>github-dark</li><li>github-dark-orange</li><li>icy-dark</li><li>dark-blue</li><li>photon-dark</li></ul><p>è¯„è®º issue-term æ˜ å°„é…ç½®é€‰é¡¹å¦‚ä¸‹ï¼š</p><blockquote><ul><li>pathname</li></ul></blockquote><ul><li>url</li><li>title</li><li>og:title</li><li>issue-number</li><li>specific-term</li></ul><h3 id="å¼•å…¥-Utterance-æ’ä»¶"><a href="#å¼•å…¥-Utterance-æ’ä»¶" class="headerlink" title="å¼•å…¥ Utterance æ’ä»¶"></a>å¼•å…¥ Utterance æ’ä»¶</h3><p>åœ¨ <code>_third-party\comments</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»º <code>utterance.swig</code> æ–‡ä»¶ã€‚å†™å…¥ä»£ç å¦‚ä¸‹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    (function() &#123;</span><br><span class="line">        // åŒ¿åå‡½æ•°ï¼Œé˜²æ­¢æ±¡æŸ“å…¨å±€å˜é‡</span><br><span class="line">        var utterances = document.createElement(&#x27;script&#x27;);</span><br><span class="line">        utterances.type = &#x27;text/javascript&#x27;;</span><br><span class="line">        utterances.async = true;</span><br><span class="line">        utterances.setAttribute(&#x27;issue-term&#x27;,&#x27;&#123;&#123; theme.utterance.issue-item &#125;&#125;&#x27;)</span><br><span class="line">        utterances.setAttribute(&#x27;theme&#x27;,&#x27;&#123;&#123; themm.utterance.theme &#125;&#125;&#x27;)</span><br><span class="line">        utterances.setAttribute(&#x27;repo&#x27;,&#x27;&#123;&#123; theme.utterance.repo &#125;&#125;&#x27;)</span><br><span class="line">        utterances.crossorigin = &#x27;anonymous&#x27;;</span><br><span class="line">        utterances.src = &#x27;https://utteranc.es/client.js&#x27;;</span><br><span class="line">        // content æ˜¯è¦æ’å…¥è¯„è®ºçš„åœ°æ–¹</span><br><span class="line">        document.getElementById(&#x27;gitment-container&#x27;).appendChild(utterances);</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="å¢åŠ -comment-æ ·å¼"><a href="#å¢åŠ -comment-æ ·å¼" class="headerlink" title="å¢åŠ  comment æ ·å¼"></a>å¢åŠ  comment æ ·å¼</h3><p>æ‰¾åˆ° <code>_partials\comments.swig</code> ç„¶åå¢åŠ ä¸‹é¢ä»£ç :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% elif theme.utterance.enable %&#125;</span><br><span class="line">     &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;comments&quot;</span> id=<span class="string">&quot;comments&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;gitment-container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>è¿˜éœ€è¦åœ¨ <code>_third-party\comments\index.swig</code> æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% elif theme.utterance.enable %&#125;</span><br><span class="line">    &#123;% include <span class="string">&#x27;utterance.swig&#x27;</span> %&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯æ•´ä¸ªé…ç½®è¿‡ç¨‹ã€‚å¦‚æœæœ‰ä»»ä½•é—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;åšå®¢æœ€è¿‘åˆ‡æ¢åˆ°äº† &lt;code&gt;hexo&lt;/code&gt; åšå®¢, ç›®å‰ç”¨èµ·æ¥æ„Ÿè§‰å¾ˆæ–¹ä¾¿ã€‚å¾ˆå–œæ¬¢ markdown å†™ä½œã€‚å½“ç„¶åˆ©ç”¨ Github </summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="hexo" scheme="https://jaguarjack.github.io/tags/hexo/"/>
    
    <category term="next" scheme="https://jaguarjack.github.io/tags/next/"/>
    
    <category term="è¯„è®º" scheme="https://jaguarjack.github.io/tags/%E8%AF%84%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>Laravel ä¿®æ”¹ dingo å¼‚å¸¸å¤„ç†é»˜è®¤ Http Code</title>
    <link href="https://jaguarjack.github.io/2019/05/05/dingo-exception/"/>
    <id>https://jaguarjack.github.io/2019/05/05/dingo-exception/</id>
    <published>2019-05-05T10:51:47.000Z</published>
    <updated>2021-06-16T01:05:39.115Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å…¬å¸éœ€è¦å°†è€é¡¹ç›®è¿ç§», ç”±äºä¹‹å‰çš„é”™è¯¯è¿”å›éƒ½æ˜¯ä¸è§„èŒƒçš„, å¯¹äºé”™è¯¯å¤„ç†éƒ½æ˜¯ç›´æ¥è¿”å› <strong>200</strong> http codeã€‚å¤§é‡çš„ä½¿ç”¨è¿™æ ·çš„è¿”å›ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response()-&gt;json(<span class="number">200</span>, [<span class="string">&#x27;msg&#x27;</span>=&gt;<span class="variable">$msg</span>])</span><br></pre></td></tr></table></figure><p>å·²ç»æ²¡æœ‰åŠæ³•æ›´æ”¹äº†, å®¢æˆ·ç«¯éƒ½æ˜¯æ ¹æ®æ¥å£çš„çš„ä¸šåŠ¡ä»£ç  <code>code</code> æ¥åˆ¤æ–­çš„ã€‚ä½†æ˜¯åœ¨æ–°çš„é¡¹ç›®ä¸­ä¸¥æ ¼è§„èŒƒä½¿ç”¨å¼‚å¸¸æŠ›å‡º, ä½†æ˜¯å¼‚å¸¸æŠ›å‡ºå http code è¿”å›çš„æ˜¯ <code>500</code>ã€‚å¯¼è‡´æµ‹è¯•é€šè¿‡ä¸äº†, æ²¡æœ‰åŠæ³•åªèƒ½ä¿®æ”¹ã€‚</p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ä½¿ç”¨äº†å¼‚å¸¸æŠ›å‡ºä¸šåŠ¡é”™è¯¯, åœ¨ <code>laravel</code> æ¡†æ¶ä¸­, å¼‚å¸¸éƒ½æ˜¯ç»Ÿä¸€å¤„ç†çš„, åœ¨ <code>App\Exceptions\Handle</code> é‡Œé¢è¿›è¡Œäº†å…¨å±€å¤„ç†ã€‚å¯¹äºæ¡†æ¶æŠ›å‡ºçš„å¼‚å¸¸, å…¨éƒ¨ç”±å®ƒæ¥å¤„ç†ã€‚ä½†æ˜¯å½“ä½ æƒ³è¦åœ¨ <code>Handle</code> é‡Œé¢ä¿®æ”¹å¤„ç†çš„æ—¶å€™, ä½ ä¼šå‘ç°å¹¶ä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚åˆ°åº•ä»€ä¹ˆåŸå› å¯¼è‡´çš„å‘¢ï¼Ÿ</p><p>åœ¨å…¥å£æ–‡ä»¶å¯ä»¥çœ‹åˆ°è¿™ä¹ˆä¸€æ®µä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$app-&gt;singleton(</span><br><span class="line">    Illuminate\Contracts\Debug\ExceptionHandler::class,</span><br><span class="line">    App\Exceptions\Handler::class</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œè¿›è¡Œäº†å…¨å±€çš„å¼‚å¸¸æœåŠ¡æ³¨å†Œ, è¿™é‡Œå…ˆä¸å…³æ³¨å¼‚å¸¸åœ¨å“ªé‡Œå¤„ç†çš„ã€‚æ—¢ç„¶å®é™…æ˜¯æ²¡æœ‰é€šè¿‡ Hanle ç±»å¤„ç†, çŒœæµ‹è¿™é‡ŒæœåŠ¡å¯èƒ½è¢« Dingo é‡æ–°æ³¨å†Œè¿‡äº†ã€‚å¸¦ç€è¿™ä¸ªæƒ³æ³•å¯ä»¥çœ‹ä¸€ä¸‹ Dingo çš„æœåŠ¡æ³¨å†Œã€‚åœ¨ <code>Dingo\Api\Provider\DingoServiceProvider</code> çœ‹åˆ°äº†å¼‚å¸¸æ³¨å†Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">registerExceptionHandler</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;app-&gt;singleton(<span class="string">&#x27;api.exception&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$app</span></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ExceptionHandler(<span class="variable">$app</span>[<span class="string">&#x27;Illuminate\Contracts\Debug\ExceptionHandler&#x27;</span>], <span class="keyword">$this</span>-&gt;config(<span class="string">&#x27;errorFormat&#x27;</span>), <span class="keyword">$this</span>-&gt;config(<span class="string">&#x27;debug&#x27;</span>));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè‚¯å®šä¼šæœ‰ç–‘é—®äº†, è¿™ä¸ªå•ä¾‹æ¨¡å¼ä¹Ÿæ²¡æœ‰é‡æ–°æ³¨å†Œ <code>Illuminate\Contracts\Debug\ExceptionHandler::class</code> è¿™ä¸ªç±»å•Šï¼Ÿæ²¡é”™, å› ä¸º Dingo æ¥ç®¡äº†è·¯ç”±, ä½ å®é™…ä½¿ç”¨çš„ <code>\Dingo\Api\Routing\Router::class</code>, æ‰€ä»¥ Dispatch çš„ä¼šç”± Dingo æ¥æ‰§è¡Œã€‚è¿™é‡Œå°±ä¸ç»†è¯´äº†ã€‚æœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸€ä¸‹ Dingo çš„å¤„ç†ã€‚<br>Dispatch å¤„ç†å¯ä»¥åœ¨ <code>Dingo\Api\Dispatcher</code>é‡Œé¢æ‰¾åˆ°ã€‚æ¥çœ‹ä¸€ä¸‹ä»£ç å¤„ç†ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">dispatch</span>(<span class="params">InternalRequest <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;routeStack[] = <span class="keyword">$this</span>-&gt;router-&gt;getCurrentRoute();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;clearCachedFacadeInstance();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;container-&gt;instance(<span class="string">&#x27;request&#x27;</span>, <span class="variable">$request</span>);</span><br><span class="line"></span><br><span class="line">            <span class="variable">$response</span> = <span class="keyword">$this</span>-&gt;router-&gt;dispatch(<span class="variable">$request</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (! <span class="variable">$response</span>-&gt;isSuccessful() &amp;&amp; ! <span class="variable">$response</span>-&gt;isRedirection()) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> InternalHttpException(<span class="variable">$response</span>);</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (! <span class="keyword">$this</span>-&gt;raw) &#123;</span><br><span class="line">                <span class="variable">$response</span> = <span class="variable">$response</span>-&gt;getOriginalContent();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸»è¦çœ‹è¿™é‡Œçš„ exception å¤„ç† è¿™é‡Œå°±æ˜¯æ¥ç®¡çš„å¼‚å¸¸</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (HttpExceptionInterface <span class="variable">$exception</span>) &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;refreshRequestStack();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">throw</span> <span class="variable">$exception</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;refreshRequestStack();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$response</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å…ˆä¸ç”¨ç®¡è¿™ä¸ªæ¥å£ç±»çš„å¼‚å¸¸, æ¥çœ‹çœ‹ Dingo çš„ Handle å¦‚ä½•å¤„ç†çš„ã€‚ä¸‹é¢ä¼šæåˆ°å¤„ç†ä¸ºä½•è¿™é‡Œæ˜¯æ¥å£, è¿˜æœ‰è¯¥å¦‚ä½•ä¿®æ”¹ã€‚</p><p>ä½ éœ€è¦ä» render æ–¹æ³•æ¥æ˜¯æŸ¥æ‰¾, ä½ æœ€ç»ˆä¼šçœ‹åˆ°, è¿‡ç¨‹å°±ä¸ç»†è®²äº†ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getExceptionStatusCode</span>(<span class="params"><span class="built_in">Exception</span> <span class="variable">$exception</span>, <span class="variable">$defaultStatusCode</span> = <span class="number">500</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="variable">$exception</span> <span class="keyword">instanceof</span> HttpExceptionInterface) ? <span class="variable">$exception</span>-&gt;getStatusCode() : <span class="variable">$defaultStatusCode</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°±å’Œä¸Šé¢çš„æ¥å£ç±»å¯¹åº”äº†, ä¸ºä»€ä¹ˆè¿”å› 500 å‘¢ï¼Ÿçœ‹è¿™æ®µä»£ç å·²ç»ä¸€ç›®äº†ç„¶äº†ã€‚å¦‚æœä¸æ˜¯å®ç°äº† <code>HttpExceptionInterface</code> çš„å¼‚å¸¸ç±», <code>StatusCode</code> éƒ½æ˜¯è¿”å› 500ã€‚æ‰€ä»¥éœ€è¦åšçš„å°±å¾ˆç®€å•äº†, å®ç° <code>HttpExceptionInterface</code> å°±å¯ä»¥äº†ã€‚ç®€å•å®ç°:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseException</span> <span class="keyword">extends</span> \<span class="title">Exception</span>  <span class="keyword">implements</span> <span class="title">HttpExceptionInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getStatusCode</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns response headers.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array Response headers</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHeaders</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ª exception åŸºç±», éœ€è¦çš„å°±æ˜¯ç»§æ‰¿å°±å¯ä»¥äº†ã€‚è¿™æ ·å°±å¯ä»¥è§£å†³è¯¥é—®é¢˜äº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;å…¬å¸éœ€è¦å°†è€é¡¹ç›®è¿ç§», ç”±äºä¹‹å‰çš„é”™è¯¯è¿”å›éƒ½æ˜¯ä¸è§„èŒƒçš„, å¯¹äºé”™è¯¯å¤„ç†éƒ½æ˜¯ç›´æ¥è¿”å› &lt;strong&gt;200&lt;/strong&gt; http co</summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="laravel" scheme="https://jaguarjack.github.io/tags/laravel/"/>
    
  </entry>
  
  <entry>
    <title>cURL æŠ¥é”™ error 60 SSL certificate problem unable to get local issuer certificate</title>
    <link href="https://jaguarjack.github.io/2019/05/04/curl-error-60/"/>
    <id>https://jaguarjack.github.io/2019/05/04/curl-error-60/</id>
    <published>2019-05-03T18:07:45.000Z</published>
    <updated>2021-06-16T01:05:39.114Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨ Laravel æ¡†æ¶çš„æ—¶å€™, å¼€å‘ç¬¬ä¸‰æ–¹æœåŠ¡çš„æ—¶å€™, ç”±äºæ˜¯æœ¬åœ°å¼€å‘, æ‰€ä»¥ Https å›è°ƒçš„æ—¶å€™å›å‡ºç°è¿™æ ·çš„é”™è¯¯ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ å…·ä½“ä¿¡æ¯å¦‚ä¸‹</p><blockquote><p>cURL error 60: SSL certificate problem: unable to get local issuer certificate (see http: curl.haxx.se libcurl c libcurl errors.html)</p></blockquote><h2 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é”™è¯¯ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é”™è¯¯ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é”™è¯¯ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é”™è¯¯ï¼Ÿ</h2><p>ç”±äºæ•æ„Ÿä¿¡æ¯çš„ä¼ è¾“é€šå¸¸åœ¨æ•°å­—è¯ä¹¦ä¸‹è¿›è¡Œã€‚ è¯¥è¯ä¹¦å°†æœ‰åŠ©äºå‘æ”¶ä»¶äººç¡®è®¤å‘ä»¶äººå®é™…ä¸Šæ˜¯ä»–ä»¬å£°ç§°çš„äººã€‚ æ•°å­—è¯ä¹¦ç”±è¯ä¹¦æœºæ„é¢å‘ã€‚</p><p>å½“æ•°å­—è¯ä¹¦åº”ç”¨äºæœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨ä¸Šä¼šå®‰è£…å¯ä¿¡è¯ä¹¦é¢å‘æœºæ„åŠå…¶æ ¹è¯ä¹¦çš„åˆ—è¡¨ã€‚ é€šè¿‡å¸¸è§„ HTTPS è¿›è¡Œçš„äº‹åŠ¡å°†æ¢å¤åˆ°æ­¤åˆ—è¡¨ä»¥è¿›è¡Œé€šä¿¡ã€‚ ä½†æ˜¯ï¼ŒCURL ä¸éµå®ˆè§„åˆ™ã€‚ æ‚¨éœ€è¦å‘Šè¯‰ <code>Curl</code> æœ‰å…³ <code>Ca</code> æ ¹è¯ä¹¦çš„ä¿¡æ¯ã€‚</p><h2 id="å¦‚ä½•è§£å†³ï¼Ÿ"><a href="#å¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="å¦‚ä½•è§£å†³ï¼Ÿ"></a>å¦‚ä½•è§£å†³ï¼Ÿ</h2><p>è¦è§£å†³è¯¥é”™è¯¯ï¼Œæ‚¨éœ€è¦å®šä¹‰ <code>CURL</code> è¯ä¹¦é¢å‘æœºæ„ä¿¡æ¯è·¯å¾„<br>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œåœ¨æ­¤å¤„ä¸‹è½½æœ€æ–°çš„ <code>curl</code> <a href="https%EF%BC%9A//curl.haxx.se/ca/cacert.pem"><strong>è®¤å¯è¯ä¹¦</strong></a>,<br>å°† <code>cacert.pem</code> æ–‡ä»¶ä¿å­˜åœ¨å¯åˆ°è¾¾çš„ç›®æ ‡ä¸­ã€‚<br>ç„¶åï¼Œåœ¨ <code>php.ini</code> æ–‡ä»¶ä¸­ï¼Œå‘ä¸‹æ»šåŠ¨åˆ°æ‰¾åˆ° [curl] çš„ä½ç½®ã€‚<br>æ‚¨åº”è¯¥çœ‹åˆ°æ³¨é‡Šæ‰äº† <code>CURLOPT_CAINFO</code> é€‰é¡¹ã€‚ å–æ¶ˆæ³¨é‡Šå¹¶å°†å…¶æŒ‡å‘ <code>cacert.pem</code> æ–‡ä»¶ã€‚ ä½ åº”è¯¥æœ‰è¿™æ ·çš„ä¸€è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl.cainfo =â€œè¯ä¹¦è·¯å¾„\cacert.pemâ€</span><br></pre></td></tr></table></figure><p>ä¿å­˜å¹¶å…³é—­ <code>php.ini</code>ã€‚ é‡æ–°å¯åŠ¨æ‚¨çš„ç½‘ç»œæœåŠ¡å™¨å¹¶å†æ¬¡å°è¯•æ‚¨çš„è¯·æ±‚</p><p>å¦‚æœæœªè®¾ç½®æ­£ç¡®çš„ä½ç½®ï¼Œåˆ™ä¼šå‡ºç° <code>CURL 77</code> é”™è¯¯ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨ä½¿ç”¨ Laravel æ¡†æ¶çš„æ—¶å€™, å¼€å‘ç¬¬ä¸‰æ–¹æœåŠ¡çš„æ—¶å€™, ç”±äºæ˜¯æœ¬åœ°å¼€å‘, æ‰€ä»¥ Https å›è°ƒçš„æ—¶å€™å›å‡ºç°è¿™æ ·çš„é”™è¯¯ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ å…·ä½“ä¿¡æ¯å¦‚ä¸‹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;cURL error 60: SSL certificate proble</summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="curl" scheme="https://jaguarjack.github.io/tags/curl/"/>
    
  </entry>
  
  <entry>
    <title>mac å®‰è£… man ä¸­æ–‡æ‰‹å†Œ</title>
    <link href="https://jaguarjack.github.io/2019/04/28/mac-install-man/"/>
    <id>https://jaguarjack.github.io/2019/04/28/mac-install-man/</id>
    <published>2019-04-28T06:25:41.000Z</published>
    <updated>2021-06-16T01:05:39.128Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…-man-ä¸­æ–‡æ‰‹å†Œ"><a href="#å®‰è£…-man-ä¸­æ–‡æ‰‹å†Œ" class="headerlink" title="å®‰è£… man ä¸­æ–‡æ‰‹å†Œ"></a>å®‰è£… man ä¸­æ–‡æ‰‹å†Œ</h2><p>åœ¨ä½¿ç”¨ mac æˆ–è€… linux çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°å‘½ä»¤ï¼Œè€Œå¤§é‡çš„å‘½ä»¤å«æœ‰å¤§é‡ optionsï¼Œä¸€èˆ¬å¾ˆéš¾è®°ä½ï¼Œä½¿ç”¨ <code>man</code> å¯ä»¥æŸ¥çœ‹è¿™äº›å‘½ä»¤çš„ optionsï¼Œä½†å¯¹äºè‹±è¯­è–„å¼±çš„äººæ¥è¯´ï¼Œä¾‹å¦‚æˆ‘ï¼Œçœ‹èµ·æ¥è¿˜æ˜¯æœ‰ä¸€å®šçš„å›°éš¾ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…ä»¥ä¸‹ä¸­æ–‡æ‰‹å†Œã€‚<br>å‡†å¤‡å‰ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸¤ä¸ª packageï¼Œå‰æä½ æ˜¯ä½¿ç”¨äº† brew ç®¡ç†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; brew install automake</span><br><span class="line">&gt; brew install opencc</span><br></pre></td></tr></table></figure><p>ç„¶åéœ€è¦ä¸‹è½½ä¸­æ–‡åŒ…ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; git clone  https://github.com/man-pages-zh/manpages-zh</span><br><span class="line">&gt; cd manpages-zh</span><br><span class="line">&gt; autoreconf --install --force</span><br><span class="line">&gt;  ./configure</span><br><span class="line">&gt; sudo make</span><br><span class="line">&gt; sudo make install</span><br></pre></td></tr></table></figure><p>ç­‰å¾…ç¼–è¯‘å®Œæˆä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦é…ç½®ä¸€äº›ä¸œè¥¿ã€‚å¦‚æœä½ ä¹‹å‰æ²¡æœ‰æ›´æ–° groffï¼Œéœ€è¦å…ˆæ›´æ–° groffï¼Œä¸ç„¶ä¼šå‡ºç°ä¹±ç ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; brew install groff </span><br><span class="line">&gt; echo &quot;MANPATH /usr/local/share/man/zh_CN&quot; &gt;&gt; /etc/man.conf</span><br><span class="line">&gt; echo &quot;NROFF preconv -e UTF8 | /usr/local/bin/nroff -Tutf8 -mandoc -c&quot; &gt;&gt; /etc/man.conf</span><br><span class="line">&gt; export alias cman=&#x27;man -M /usr/local/share/man/zh_CN&#x27; // ä½ å¯ä»¥åŠ å…¥åˆ°ç¯å¢ƒå˜é‡é‡Œ</span><br><span class="line">&gt; cman ls </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨ man ä¸­æ–‡æ‰‹å†Œå•¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å®‰è£…-man-ä¸­æ–‡æ‰‹å†Œ&quot;&gt;&lt;a href=&quot;#å®‰è£…-man-ä¸­æ–‡æ‰‹å†Œ&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£… man ä¸­æ–‡æ‰‹å†Œ&quot;&gt;&lt;/a&gt;å®‰è£… man ä¸­æ–‡æ‰‹å†Œ&lt;/h2&gt;&lt;p&gt;åœ¨ä½¿ç”¨ mac æˆ–è€… linux çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°å‘½ä»¤ï¼Œè€Œå¤§é‡çš„å‘½ä»¤</summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="macos" scheme="https://jaguarjack.github.io/tags/macos/"/>
    
  </entry>
  
  <entry>
    <title>è¯¦è§£ Linux æ–‡ä»¶æƒé™</title>
    <link href="https://jaguarjack.github.io/2019/04/23/linux-file-mode/"/>
    <id>https://jaguarjack.github.io/2019/04/23/linux-file-mode/</id>
    <published>2019-04-23T07:36:59.000Z</published>
    <updated>2021-06-16T01:05:39.126Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Linux-æ–‡ä»¶æƒé™"><a href="#Linux-æ–‡ä»¶æƒé™" class="headerlink" title="Linux æ–‡ä»¶æƒé™"></a>Linux æ–‡ä»¶æƒé™</h2><p>åœ¨æ·±å…¥äº†è§£ä¹‹å‰ï¼Œå…ˆæ¥ç†è§£ä¸€ä¸‹æ–‡ä»¶æƒé™çš„åŸºæœ¬ä¿¡æ¯ã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªä¿¡æ¯çš„æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; touch new_file</span><br><span class="line">&gt; ll new_file</span><br><span class="line">&gt; -rw-r--r-- 1 root root 0 4æœˆ  23 22:59 new_file</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶ new_file æ‹¥æœ‰ä¸‹é¢ä¸‰ç»„æƒé™:</p><blockquote><p>rw- :æ–‡ä»¶çš„å±ä¸»ï¼Œç™»é™†ç”¨æˆ·çš„æƒé™ r w åˆ†åˆ«æ˜¯è¯»å†™</p><p>râ€“ : æ–‡ä»¶å±ä¸»çš„æ‰€å±ç»„çš„æƒé™ r è¯»</p><p>râ€“: å…¶ä»–ç”¨æˆ·çš„æƒé™ r è¯»</p></blockquote><p>å½“ç„¶è¿˜æœ‰ä¸€ä¸ª <code>x</code> å¯æ‰§è¡Œæƒé™è¿™é‡Œæ²¡æœ‰ï¼Œå¯ä»¥é€šè¿‡ <code>chmod</code> å‘½ä»¤æ¥å¢åŠ ã€‚è¿™ä¸ªåé¢å†è¯´ã€‚æˆ‘ä»¬å…ˆæ¥è¯´è¯´æ–‡ä»¶æƒé™çš„ç”±æ¥ï¼Œ<code>touch</code> å‘½ä»¤ä¹‹åçš„é»˜è®¤æƒé™æ˜¯å¦‚ä½•æ¥çš„ã€‚è¦çŸ¥é“é¦–å…ˆè¦çŸ¥é“æœ‰ <code>umask</code> çš„å­˜åœ¨ã€‚é€šè¿‡ <code>umask</code> å‘½ä»¤å¯ä»¥è·å–é»˜è®¤å€¼ã€‚è¿™ä¸ªå€¼å¾ˆæœ‰ç”¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; umask</span><br><span class="line">&gt; 0022 // è¿™æ˜¯æˆ‘æœºå™¨ä¸Šé¢çš„å€¼</span><br></pre></td></tr></table></figure><p>è¦äº†è§£è¿™ä¸ª umask çš„æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œé¦–å…ˆè¦ç†è§£ä¸€ä¸‹å…«è¿›åˆ¶æ¨¡å¼çš„å®‰å…¨æ€§è®¾ç½®ã€‚å…«è¿›åˆ¶æ¨¡å¼çš„å®‰å…¨è®¾ç½®å…ˆè·å–è¿™ä¸‰ä¸ª rwx æƒé™çš„å€¼ï¼Œç„¶åå°†å…¶è½¬æ¢ä¸ºä¸‰ä½äºŒè¿›åˆ¶å€¼ï¼Œç”¨ä¸€ä¸ªå…«è¿›åˆ¶å€¼æ¥è¡¨ç¤ºã€‚åœ¨è¿™ä¸ªäºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œæ¯ä¸ªä½ç½®ä»£è¡¨ä¸€ä¸ªäºŒè¿›åˆ¶ä½ã€‚ä¾‹å¦‚å”¯ä¸€è¯»æƒé™ râ€“ è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯ 100, é‚£ä¹ˆä»£è¡¨çš„å…«è¿›åˆ¶å°±æ˜¯ 4ã€‚<br>å¦‚ä¸‹è¡¨è¡¨ç¤ºçš„è¿™æ ·ï¼š</p><table><thead><tr><th>æƒé™</th><th>äºŒè¿›åˆ¶</th><th>å…«è¿›åˆ¶</th><th>æè¿°</th></tr></thead><tbody><tr><td>â€”</td><td>000</td><td>0</td><td>æ²¡æœ‰ä»»ä½•æƒé™</td></tr><tr><td>â€“x</td><td>0001</td><td>1</td><td>åªæœ‰å¯æ‰§è¡Œæƒé™</td></tr><tr><td>-w-</td><td>010</td><td>2</td><td>åªæœ‰å¯å†™æƒé™</td></tr><tr><td>-wx</td><td>011</td><td>3</td><td>åªæœ‰å¯å†™å¯æ‰§è¡Œæƒé™</td></tr><tr><td>râ€“</td><td>100</td><td>4</td><td>åªæœ‰å¯è¯»æƒé™</td></tr><tr><td>r-x</td><td>101</td><td>5</td><td>åªæœ‰å¯è¯»å¯æ‰§è¡Œæƒé™</td></tr><tr><td>rw-</td><td>110</td><td>6</td><td>åªæœ‰å¯è¯»å¯å†™æƒé™</td></tr><tr><td>rwx</td><td>111</td><td>7</td><td>å¯è¯»å¯å†™æƒé™å¯æ‰§è¡Œ</td></tr></tbody></table><p>å½“äº†è§£å¯¹åº”æƒé™ä»¥åŠå…«è¿›åˆ¶å€¼ä¹‹åï¼Œçœ‹çœ‹ä¸Šé¢çš„ new_file æ‹¥æœ‰æƒé™æ˜¯ 644ã€‚é‚£ä¹ˆè¿™é‡Œæœ‰ç‚¹å›°æƒ‘äº†ï¼Œè¿™ä¸ªå€¼æ˜¯å¦‚ä½•å¾—æ¥çš„å‘¢ã€‚ <code>umask</code> çš„ <code>0022</code> æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿå…¶å®è¿™ä¸ªå€¼åªæ˜¯ä¸ªæ©ç ã€‚ä»–ä¼šå±è”½æ‰ä¸åƒæˆäºˆè¯¥å®‰å…¨çº§åˆ«çš„æƒé™ã€‚å¯¹äºæ–‡ä»¶æ¥è¯´ï¼Œå…¨æƒé™æ˜¯ <code>666</code>ï¼Œå‡å» <code>umask</code> çš„å€¼å°±æ˜¯æ–°åˆ›å»ºæ–‡ä»¶çš„æƒé™ã€‚ 644 æ­£æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„é‚£æ ·ï¼Œé»˜è®¤å±è”½äº†æ–‡ä»¶æ‰€å±ç»„å’Œå…¶ä»–ç”¨æˆ· w æƒé™ã€‚è¿™é‡Œè¯´æ˜ä¸€ä¸‹æ–‡ä»¶å¤¹çš„å…¨æƒé™æ˜¯ 777ã€‚å¦‚æœä½ æƒ³å±è”½æ›´å¤šçš„æƒé™ï¼Œå¯ä»¥ä¿®æ”¹ umask çš„å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; umask 026</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Linux-æ–‡ä»¶æƒé™&quot;&gt;&lt;a href=&quot;#Linux-æ–‡ä»¶æƒé™&quot; class=&quot;headerlink&quot; title=&quot;Linux æ–‡ä»¶æƒé™&quot;&gt;&lt;/a&gt;Linux æ–‡ä»¶æƒé™&lt;/h2&gt;&lt;p&gt;åœ¨æ·±å…¥äº†è§£ä¹‹å‰ï¼Œå…ˆæ¥ç†è§£ä¸€ä¸‹æ–‡ä»¶æƒé™çš„åŸºæœ¬ä¿¡æ¯ã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªä¿¡æ¯çš„æ–‡ä»¶&lt;/p</summary>
      
    
    
    
    <category term="æœåŠ¡å™¨è¿ç»´" scheme="https://jaguarjack.github.io/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="linux" scheme="https://jaguarjack.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Mac SSH è¿æ¥å‡ºç° Host key verification failed é”™è¯¯è§£å†³</title>
    <link href="https://jaguarjack.github.io/2019/04/19/mac-vertify-failed/"/>
    <id>https://jaguarjack.github.io/2019/04/19/mac-vertify-failed/</id>
    <published>2019-04-18T21:07:56.000Z</published>
    <updated>2021-06-16T01:05:39.129Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬ä½¿ç”¨ <a href="javascript:;"><strong>ssh</strong></a> é“¾æ¥ <a href="javascript:;"><strong>linux</strong></a> ä¸»æœºæ—¶ï¼Œå¯èƒ½å‡ºç° â€œ<a href="javascript:;"><strong>Host</strong></a>Â <a href="javascript:;"><strong>key</strong></a>Â verification failed.â€œ çš„æç¤ºï¼Œssh è¿æ¥ä¸æˆåŠŸã€‚<br>å¯èƒ½çš„æç¤ºä¿¡æ¯å¦‚ä¸‹:</p><blockquote><p>IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!<br>Someone could be eavesdropping on you right now (man-in-the-middle attack)!<br>It is also possible that the RSA host key has just been changed.<br>The fingerprint for the RSA key sent by the remote host is<br>23:00:20:83:de:02:95:f1:e3:34:be:57:3f:cf:2c:e7.<br>Please contact your system administrator.<br>Add correct host key in /home/xahria/.ssh/known_hosts to get rid of this message.<br>Offending key in /home/xahria/.ssh/known_hosts:8<br>RSA host key for localhost has changed and you have requested strict checking.<br>Host key verification failed.</p></blockquote><p>ç½‘ä¸Šå¾ˆå¤šçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š<code>vi ~/.ssh/known_hosts </code> åˆ é™¤ä¸æƒ³è¦è¿æ¥çš„ä¸»æœºç›¸å…³çš„è¡Œï¼›æˆ–è€…ç›´æ¥åˆ é™¤<code>known_hosts</code> è¿™ä¸ªæ–‡ä»¶ã€‚ å½“ç„¶è¿™ä¸ªæ–¹æ¡ˆä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†å¹¶éè§£å†³é—®é¢˜çš„æ ¹æœ¬åŠæ³•ï¼Œå› ä¸ºç»§ç»­ä½¿ç”¨ï¼Œä»Šåè¿˜ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œè¿˜å¾—å†åˆ é™¤ã€‚<br>ä¸‹é¢ç®€å•è®²ä¸€ä¸‹è¿™ä¸ªé—®é¢˜çš„åŸç†å’Œæ¯”è¾ƒé•¿ä¹…çš„è§£å†³æ–¹æ¡ˆã€‚<br>ç”¨<code>OpenSSH</code>çš„äººéƒ½çŸ¥sshä¼šæŠŠä½ æ¯ä¸ªä½ è®¿é—®è¿‡è®¡ç®—æœºçš„å…¬é’¥(public key)éƒ½è®°å½•åœ¨ <code>~/.ssh/known_hosts</code>ã€‚å½“ä¸‹æ¬¡è®¿é—®ç›¸åŒè®¡ç®—æœºæ—¶ï¼Œ<code>OpenSSH</code> ä¼šæ ¸å¯¹å…¬é’¥ã€‚å¦‚æœå…¬é’¥ä¸åŒï¼Œ<code>OpenSSH </code>ä¼šå‘å‡ºè­¦å‘Šï¼Œé¿å…ä½ å—åˆ°DNS Hijackä¹‹ç±»çš„æ”»å‡»ã€‚<br>SSH å¯¹ä¸»æœºçš„ public_key çš„æ£€æŸ¥ç­‰çº§æ˜¯æ ¹æ® <code>StrictHostKeyChecking</code> å˜é‡æ¥é…ç½®çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>StrictHostKeyChecking=ask</code>ã€‚ç®€å•æ‰€ä¸‹å®ƒçš„ä¸‰ç§é…ç½®å€¼ï¼š</p><p>1.<code>StrictHostKeyChecking=noÂ </code>æœ€ä¸å®‰å…¨çš„çº§åˆ«ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šçƒ¦äººçš„æç¤ºäº†ï¼Œç›¸å¯¹å®‰å…¨çš„å†…ç½‘<a href="javascript:;"><strong>æµ‹è¯•</strong></a>æ—¶å»ºè®®ä½¿ç”¨ã€‚å¦‚æœè¿æ¥<a href="javascript:;"><strong>server</strong></a>çš„ key åœ¨æœ¬åœ°ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±è‡ªåŠ¨æ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼ˆé»˜è®¤æ˜¯known_hostsï¼‰ï¼Œå¹¶ä¸”ç»™å‡ºä¸€ä¸ªè­¦å‘Šã€‚</p><p>2.<code>StrictHostKeyChecking=ask</code>Â  é»˜è®¤çš„çº§åˆ«ï¼Œå°±æ˜¯å‡ºç°åˆšæ‰çš„æç¤ºäº†ã€‚å¦‚æœè¿æ¥å’Œkeyä¸åŒ¹é…ï¼Œç»™å‡ºæç¤ºï¼Œå¹¶æ‹’ç»ç™»å½•ã€‚</p><p>3.<code>StrictHostKeyChecking=yes</code>Â  æœ€å®‰å…¨çš„çº§åˆ«ï¼Œå¦‚æœè¿æ¥ä¸keyä¸åŒ¹é…ï¼Œå°±æ‹’ç»è¿æ¥ï¼Œä¸ä¼šæç¤ºè¯¦ç»†ä¿¡æ¯ã€‚</p><p>å¯¹äºæˆ‘æ¥è¯´ï¼Œåœ¨å†…ç½‘çš„è¿›è¡Œçš„ä¸€äº›æµ‹è¯•ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œé€‰æ‹©æœ€ä½çš„å®‰å…¨çº§åˆ«ã€‚åœ¨ .ssh/configï¼ˆæˆ–è€… /etc/ssh/ssh_config ï¼‰ä¸­é…ç½®ï¼š<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> StrictHostKeyChecking no</span><br><span class="line">UserKnownHostsFile /dev/null</span><br></pre></td></tr></table></figure></p><blockquote><p>ï¼ˆæ³¨ï¼šè¿™é‡Œä¸ºäº†ç®€ä¾¿ï¼Œå°† knownhostfile è®¾ä¸º /dev/nullï¼Œå°±ä¸ä¿å­˜åœ¨ known_hosts ä¸­äº†ï¼‰</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨ &lt;a href=&quot;javascript:;&quot;&gt;&lt;strong&gt;ssh&lt;/strong&gt;&lt;/a&gt; é“¾æ¥ &lt;a href=&quot;javascript:;&quot;&gt;&lt;strong&gt;linux&lt;/strong&gt;&lt;/a&gt; ä¸»æœºæ—¶ï¼Œå¯èƒ½å‡ºç° â€œ&lt;a href=&quot;javascript:;</summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="macos" scheme="https://jaguarjack.github.io/tags/macos/"/>
    
  </entry>
  
  <entry>
    <title>Go å¦‚ä½•å®ç°å…¼å®¹ PHP çš„å¯†ç åŠ å¯†è§£å¯†</title>
    <link href="https://jaguarjack.github.io/2019/04/17/go-to-php-passwordhash/"/>
    <id>https://jaguarjack.github.io/2019/04/17/go-to-php-passwordhash/</id>
    <published>2019-04-16T21:28:53.000Z</published>
    <updated>2021-06-16T01:05:39.121Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æ­£åœ¨è¿ç§»è‡ªå·±çš„å°é¡¹ç›®ï¼Œé¡¹ç›®ä¹‹å‰æ˜¯åŸºäº <strong>Laravel5.5</strong> å¼€å‘çš„ã€‚æ•´ä¸ªç”¨æˆ·ç™»é™†ä¹Ÿæ˜¯åŸºäºæ¡†æ¶çš„ Auth åŒ…è®¤è¯çš„ã€‚å…¶ä¸­ç”¨æˆ·å¯†ç è¿™å—ä¹Ÿæ˜¯ç”¨åˆ°äº† <code>PHP</code> å†…ç½®çš„å‡½æ•° <code>password_hash</code>ï¼Œç”¨å®ƒè¿›è¡Œå¯†ç åŠ å¯†ã€‚è€Œä¸” PHP é»˜è®¤ä½¿ç”¨çš„ PASSWORD_BCRYPT ç®—æ³•ã€‚åœ¨ä½¿ç”¨ Go çš„è¿ç§»è¿‡ç¨‹ä¸­éœ€è¦è®¤è¯å¯†ç ï¼Œè¿˜éœ€è¦å…¼å®¹ <code>password_hash</code>, æ‰€ä»¥å°±æŠŠè¿™ä¸ªè¿‡ç¨‹è®°å½•ä¸‹æ¥ã€‚ä½¿ç”¨ä¸‹é¢çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨ GO <a href="https://godoc.org/golang.org/x/crypto/bcrypt">bcrypt</a> åŒ…æ¥å¯¹ä½ çš„å¯†ç è¿›è¡Œ hash å’Œ salt åŠ å¯†</p><p>å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘å°†åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œç”¨äºæ¼”ç¤ºå¦‚ä½•è·å–ç”¨æˆ·è¾“å…¥çš„å¯†ç å¹¶ä½¿ç”¨å®ƒç”Ÿæˆ salt å“ˆå¸Œå€¼ã€‚ å®Œæˆæ­¤æ“ä½œåï¼Œæˆ‘å°†é€šè¿‡æ¯”è¾ƒå¯†ç ä¸å…¶æ•£åˆ—ç‰ˆæœ¬æ¥éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®ã€‚</p><h3 id="è·å–ç”¨æˆ·è¾“å…¥çš„å¯†ç "><a href="#è·å–ç”¨æˆ·è¾“å…¥çš„å¯†ç " class="headerlink" title="è·å–ç”¨æˆ·è¾“å…¥çš„å¯†ç "></a>è·å–ç”¨æˆ·è¾“å…¥çš„å¯†ç </h3><p>å¼€å§‹æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªå¯ä»¥åœ¨æ§åˆ¶å°è¯»å–ç”¨æˆ·è¾“å…¥çš„çš„æ–¹æ³•ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">func getPwd() []byte &#123;</span><br><span class="line">    fmt.Println(&quot;Enter a password&quot;)</span><br><span class="line">    var pwd string</span><br><span class="line"></span><br><span class="line">    // è¯»å–ç”¨æˆ·è¾“å…¥</span><br><span class="line">    _, err := fmt.Scan(&amp;pwd)</span><br><span class="line">    if err != nil &#123;</span><br><span class="line">        log.Println(err)</span><br><span class="line">    &#125;</span><br><span class="line">    return []byte(pwd)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">### Hash &amp; Salt ç”¨æˆ·çš„å¯†ç </span><br><span class="line">ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Go çš„Â [bcrypt](https://godoc.org/golang.org/x/crypto/bcrypt)Â åŒ…æä¾›çš„`GenerateFromPassword(password []byte, cost int)([]byte, error)`æ–¹æ³•å¯¹ç”¨æˆ·çš„å¯†ç è¿›è¡Œ hash å’Œ salt åŠ å¯†äº†ã€‚</span><br><span class="line">&gt; GenerateFromPassword æ–¹æ³•ä»¥ç»™å®š cost å€¼è¿”å›å¯†ç çš„ Bcrypt ç®—æ³•çš„ Hash å€¼ï¼Œå¦‚æœæä¾›çš„ cost å€¼å°äº Mincost çš„è¯ï¼Œå°†ä¼šé»˜è®¤ä½¿ç”¨ DefaultCost ä»£æ›¿</span><br><span class="line">&gt; </span><br><span class="line">ä½¿ç”¨ `GenerateFromPassword` å‡½æ•°çš„ä¸€ä¸ªä¼˜åŠ¿å°±æ˜¯æˆ‘ä»¬ä¸éœ€è¦è‡ªå·±æ¥ç¼–å†™å‡½æ•°æ¥ç”Ÿæˆ Saltï¼Œå› ä¸ºå®ƒä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª Saltã€‚</span><br><span class="line"></span><br><span class="line">ä¸‹é¢çš„å‡½æ•°ä½¿ç”¨ `GenerateFromPassword` ç”Ÿæˆ salted å“ˆå¸Œå€¼ï¼Œè¯¥å“ˆå¸Œå€¼ä½œä¸ºå­—èŠ‚åˆ‡ç‰‡è¿”å›ã€‚ ç„¶åæˆ‘ä»¬å°†å­—èŠ‚åˆ‡ç‰‡ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥å°† salted å“ˆå¸Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ä½œä¸ºç”¨æˆ·å¯†ç ã€‚</span><br></pre></td></tr></table></figure><p>func hashAndSalt(pwd []byte) string {<br>    hash, err := bcrypt.GenerateFromPassword(pwd, bcrypt.MinCost)<br>    if err != nil {<br>        log.Println(err)<br>    }<br>    return string(hash)<br>}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">### ç›®å‰æˆ‘ä»¬åšäº†ä»€ä¹ˆ</span><br><span class="line">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ¥å—æ¥è‡ªæ§åˆ¶å°çš„ç”¨æˆ·è¾“å…¥å¹¶å°†å…¶ä½œä¸ºå­—èŠ‚åˆ‡ç‰‡è¿”å›çš„å‡½æ•°ã€‚ ç„¶å,</span><br><span class="line">æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªå¯ä»¥æ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶è¿”å›  salted å“ˆå¸Œå€¼çš„å‡½æ•°ã€‚ä¸‹é¢å°±æ˜¯ä»£ç äº‹ä¾‹ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>package main</p><p>import (<br>    â€œfmtâ€<br>    â€œlogâ€<br>    â€œgolang.org/x/crypto/bcryptâ€<br>)</p><p>func main() {<br>   for {<br>        pwd := getPwd()<br>        hash := hashAndSalt(pwd)<br>        fmt.Println(â€œSalted Hashâ€, pwd)<br>     }<br>}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¦‚æœä½ è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œå°†ä¼šå¾—åˆ°ä¸‹é¢çš„ç»“æœ</span><br></pre></td></tr></table></figure><blockquote><p>$ Enter a password<br>$ foobar<br>Salted Hash $2a$10$â€¦â€¦â€¦..</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¿™é‡Œéœ€è¦çš„æ³¨æ„çš„æ˜¯æˆ‘ä½¿ç”¨ for å¾ªç¯è°ƒç”¨å‡½æ•°ï¼Œç›´åˆ°æˆ‘å¼ºåˆ¶åœæ­¢å®ƒã€‚å¯¹äºé‚£äº›ä¸ç†Ÿæ‚‰ GO çš„äººæ¥è®²ï¼Œè¿™ä¸ªå°±å’Œå…¶ä»–è¯­è¨€çš„ `while (true)&#123;&#125;`æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚</span><br><span class="line">### éªŒè¯å¯†ç </span><br><span class="line">æœ€åä¸€ä»¶äº‹å„¿å°±æ˜¯éœ€è¦éªŒè¯å¯†ç çš„æ­£ç¡®æ€§æ¥ç™»é™†æˆ‘ä»¬çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [bcrypt](https://godoc.org/golang.org/x/crypto/bcrypt)Â åŒ…æä¾›çš„`CompareHashAndPassword(hashedPassword, password []byte) error`å‡½æ•°</span><br><span class="line"></span><br><span class="line">&gt; CompareHashAndPassword å°† bcrypt å“ˆå¸Œå¯†ç ä¸å…¶çº¯æ–‡æœ¬è¿›è¡Œæ¯”è¾ƒã€‚ æˆåŠŸæ—¶è¿”å›nilï¼Œå¤±è´¥æ—¶è¿”å›é”™è¯¯</span><br><span class="line">&gt; </span><br><span class="line">æˆ‘ä»¬ä½¿ç”¨`CompareHashAndPassword`å‡½æ•°æ¥åˆ›å»ºå¦ä¸€ä¸ªè¿”å› bool å€¼çš„å‡½æ•°è®©æˆ‘ä»¬çŸ¥é“å¯†ç æ˜¯å¦åŒ¹é…ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>func comparePasswords(hashedPwd string, plainPwd []byte) bool {</p><pre><code>byteHash := []byte(hashedPwd)err := bcrypt.CompareHashAndPassword(byteHash, plainPwd)\if err != nil &#123;    log.Println(err)    return false&#125;return true</code></pre><p>}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### æ›´æ–° Main å‡½æ•°</span><br><span class="line">æˆ‘ä»¬ç°åœ¨å¯ä»¥æ›´æ–°æˆ‘ä»¬çš„ä¸»è¦åŠŸèƒ½ï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å¤Ÿè¾“å…¥å¯†ç ï¼Œè·å–å…¶ç›æ¸å“ˆå¸Œï¼Œç„¶åå†æ¬¡è¾“å…¥å¯†ç ï¼Œå¹¶æŸ¥æ˜æˆ‘ä»¬çš„ç¬¬äºŒä¸ªå¯†ç æ˜¯å¦ä¸æˆ‘ä»¬è¾“å…¥çš„ç¬¬ä¸€ä¸ªå¯†ç ç›¸åŒ¹é…ã€‚</span><br><span class="line">æˆ‘ä»¬ç°åœ¨ä¿®æ”¹ä¸€ä¸ª main å‡½æ•°ï¼Œå½“æˆ‘ä»¬è¾“å…¥å¯†ç çš„æ—¶å€™ï¼Œè·å– salted  å“ˆå¸Œå€¼ï¼Œç„¶åå†æ¬¡è¾“å…¥å¯†ç ï¼Œæ¥æ£€æŸ¥æˆ‘ä»¬çš„å¯†ç æ˜¯å¦åŒ¹é…ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>func main() {<br>    for {<br>        pwd := getPwd()<br>        hash := hashAndSalt(pwd)<br>        pwd2 := getPwd()<br>        pwdMatch := comparePasswords(hash, pwd2)<br>        fmt.Println(â€œPasswords Match?â€, pwd)<br>    }<br>}</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### å…¨éƒ¨ä»£ç </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>package main</p><p>import (<br>    â€œfmtâ€<br>    â€œlogâ€<br>    â€œgolang.org/x/crypto/bcryptâ€<br>)</p><p>func main() {<br>    for {<br>       // è¾“å…¥å¯†ç  è·å– hash å€¼<br>        pwd := getPwd()<br>        hash := hashAndSalt(pwd)<br>       // å†æ¬¡è¾“å…¥å¯†ç éªŒè¯<br>        pwd2 := getPwd()<br>        pwdMatch := comparePasswords(hash, pwd2)<br>        fmt.Println(â€œPasswords Match?â€, pwd)<br>    }<br>}</p><p>func getPwd() []byte {<br>    fmt.Println(â€œEnter a passwordâ€)<br>    var pwd string<br>    _, err := fmt.Scan(&amp;pwd)<br>    if err != nil {<br>        log.Println(err)<br>    }<br>    return []byte(pwd)<br>}</p><p>func hashAndSalt(pwd []byte) string {<br>    hash, err := bcrypt.GenerateFromPassword(pwd, bcrypt.MinCost)<br>    if err != nil {<br>        log.Println(err)<br>    }<br>    return string(hash)<br>}</p><p>func comparePasswords(hashedPwd string, plainPwd []byte) bool {<br>    byteHash := []byte(hashedPwd)</p><pre><code>err := bcrypt.CompareHashAndPassword(byteHash, plainPwd)if err != nil &#123;    log.Println(err)    return false&#125;return true</code></pre><p>}</p><pre><code>ä»¥ä¸Šä¾¿æ˜¯ GO è½¬ php çš„åŠ å¯†å‡½æ•°çš„è¿‡ç¨‹ï¼Œå¦‚æœæœ‰ä»»ä½•é”™è¯¯æˆ–è€…ä¸å½“çš„åœ°æ–¹æ¬¢è¿è¿›è¡Œæ”¹è¿›ã€‚</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘æ­£åœ¨è¿ç§»è‡ªå·±çš„å°é¡¹ç›®ï¼Œé¡¹ç›®ä¹‹å‰æ˜¯åŸºäº &lt;strong&gt;Laravel5.5&lt;/strong&gt; å¼€å‘çš„ã€‚æ•´ä¸ªç”¨æˆ·ç™»é™†ä¹Ÿæ˜¯åŸºäºæ¡†æ¶çš„ Auth åŒ…è®¤è¯çš„ã€‚å…¶ä¸­ç”¨æˆ·å¯†ç è¿™å—ä¹Ÿæ˜¯ç”¨åˆ°äº† &lt;code&gt;PHP&lt;/code&gt; å†…ç½®çš„å‡½æ•° &lt;code&gt;password_hash&lt;/co</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="go" scheme="https://jaguarjack.github.io/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>Jwtauth è‡ªå®šä¹‰è®¤è¯å¤´ä¿¡æ¯</title>
    <link href="https://jaguarjack.github.io/2019/04/11/jwtauth-header/"/>
    <id>https://jaguarjack.github.io/2019/04/11/jwtauth-header/</id>
    <published>2019-04-10T21:30:35.000Z</published>
    <updated>2021-06-16T01:05:39.124Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è‡ªå®šä¹‰è®¤è¯å¤´"><a href="#è‡ªå®šä¹‰è®¤è¯å¤´" class="headerlink" title="è‡ªå®šä¹‰è®¤è¯å¤´"></a>è‡ªå®šä¹‰è®¤è¯å¤´</h2><p>é¡¹ç›®ä½¿ç”¨çš„<code>tymon/jwt-auth</code>åŒ…ä½œä¸º <code>token</code> çš„è®¤è¯ï¼Œè¿‡ç¨‹ä¸­éœ€è¦è¿ç§»é¡¹ç›®ï¼Œå› ä¸ºä¹‹å‰å…¬å¸çš„ <code>token</code> å¤´éƒ¨ä½¿ç”¨è‡ªå®šä¹‰çš„ï¼Œå¹¶ä¸”ä»–ä»¬è¿˜ä¿®æ”¹äº†åŒ…çš„å¤´ä¿¡æ¯ã€‚å°±æ˜¯ä¸‹é¢å¤´éƒ¨ä¿¡æ¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class AuthHeaders implements ParserContract</span><br><span class="line">&#123;</span><br><span class="line">// ä¸‹é¢è¿™ä¸¤å¤„å°±æ˜¯è¢«ä¿®æ”¹çš„</span><br><span class="line">    protected $header = &#x27;authorization&#x27;; </span><br><span class="line"></span><br><span class="line">    protected $prefix = &#x27;bearer&#x27;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿ç§»é¡¹ç›®è¿‡ç¨‹äº†ï¼Œå› ä¸ºæ‹‰å–äº†æ–°çš„åŒ…ï¼Œæ‰€ä»¥è¿˜è¦å»åŠ¨åŒ…çš„ä¿¡æ¯ï¼Œè¿™æ˜¯æå…¶ä¸åˆç†çš„è¡Œä¸ºã€‚æ‰€ä»¥å°±åœ¨åŒ…ä¸­å°è¯•æ‰¾åˆ°äº†æ›´å¥½çš„è§£å†³åŠæ³•ã€‚å¦‚æœåœ¨é¡¹ç›®è¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°äº†ç±»ä¼¼çš„é—®é¢˜è¯¥å¦‚ä½•å»åšå‘¢ï¼Ÿè¿™é‡Œåªæä¾›äº†æˆ‘èƒ½æƒ³åˆ°çš„è§£å†³åŠæ³•ã€‚éœ€è¦åœ¨ <code>AppServiceProvider</code> ä¸­åŠ å…¥è¯¥æ–¹æ³•å°±å¯ä»¥äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">protected function setAuthHeader()</span><br><span class="line">&#123;</span><br><span class="line">    $chain = $this-&gt;app[&#x27;tymon.jwt.parser&#x27;]-&gt;getChain();</span><br><span class="line"></span><br><span class="line">    $chain[0] = $chain[0]-&gt;setHeaderPrefix(&#x27;é¡¹ç›®çš„ token å‰ç¼€&#x27;)-&gt;setHeaderName(&#x27;é¡¹ç›®çš„å¤´ä¿¡æ¯ key&#x27;);</span><br><span class="line"></span><br><span class="line">    $this-&gt;app[&#x27;tymon.jwt.parser&#x27;]-&gt;setChain($chain);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æœ‰æ›´å¥½çš„åŠæ³•å¯ä»¥æä¾›ï¼Œæ¬¢è¿ç•™è¨€æˆ–è€…æ”¹è¿›ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;è‡ªå®šä¹‰è®¤è¯å¤´&quot;&gt;&lt;a href=&quot;#è‡ªå®šä¹‰è®¤è¯å¤´&quot; class=&quot;headerlink&quot; title=&quot;è‡ªå®šä¹‰è®¤è¯å¤´&quot;&gt;&lt;/a&gt;è‡ªå®šä¹‰è®¤è¯å¤´&lt;/h2&gt;&lt;p&gt;é¡¹ç›®ä½¿ç”¨çš„&lt;code&gt;tymon/jwt-auth&lt;/code&gt;åŒ…ä½œä¸º &lt;code&gt;token&lt;/code&gt;</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="laravel" scheme="https://jaguarjack.github.io/tags/laravel/"/>
    
    <category term="jwt" scheme="https://jaguarjack.github.io/tags/jwt/"/>
    
  </entry>
  
  <entry>
    <title>Go Modules è¯¦è§£ä½¿ç”¨</title>
    <link href="https://jaguarjack.github.io/2019/04/09/go-module/"/>
    <id>https://jaguarjack.github.io/2019/04/09/go-module/</id>
    <published>2019-04-09T00:00:00.000Z</published>
    <updated>2021-06-16T01:05:39.119Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><p>è‡ªä» <code>Go</code> å®˜æ–¹ä»å»å¹´æ¨å‡º 1.11 ä¹‹åï¼Œå¢åŠ æ–°çš„ä¾èµ–ç®¡ç†æ¨¡å—å¹¶ä¸”æ›´åŠ æ˜“äºç®¡ç†é¡¹ç›®ä¸­æ‰€éœ€è¦çš„æ¨¡å—ã€‚æ¨¡å—æ˜¯å­˜å‚¨åœ¨æ–‡ä»¶æ ‘ä¸­çš„ Go åŒ…çš„é›†åˆï¼Œå…¶æ ¹ç›®å½•ä¸­åŒ…å« go.mod æ–‡ä»¶ã€‚ go.mod æ–‡ä»¶å®šä¹‰äº†æ¨¡å—çš„æ¨¡å—è·¯å¾„ï¼Œå®ƒä¹Ÿæ˜¯ç”¨äºæ ¹ç›®å½•çš„å¯¼å…¥è·¯å¾„ï¼Œä»¥åŠå®ƒçš„ä¾èµ–æ€§è¦æ±‚ã€‚æ¯ä¸ªä¾èµ–æ€§è¦æ±‚éƒ½è¢«å†™ä¸ºæ¨¡å—è·¯å¾„å’Œç‰¹å®šè¯­ä¹‰ç‰ˆæœ¬ã€‚</p><p>ä» Go 1.11 å¼€å§‹ï¼ŒGo å…è®¸åœ¨ $GOPATH/src å¤–çš„ä»»ä½•ç›®å½•ä¸‹ä½¿ç”¨ go.mod åˆ›å»ºé¡¹ç›®ã€‚åœ¨ $GOPATH/src ä¸­ï¼Œä¸ºäº†å…¼å®¹æ€§ï¼ŒGo å‘½ä»¤ä»ç„¶åœ¨æ—§çš„ GOPATH æ¨¡å¼ä¸‹è¿è¡Œã€‚ä» Go 1.13 å¼€å§‹ï¼Œæ¨¡å—æ¨¡å¼å°†æˆä¸ºé»˜è®¤æ¨¡å¼ã€‚</p><p>æœ¬æ–‡å°†ä»‹ç»ä½¿ç”¨æ¨¡å—å¼€å‘ Go ä»£ç æ—¶å‡ºç°çš„ä¸€ç³»åˆ—å¸¸è§æ“ä½œï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å—ã€‚</li><li>æ·»åŠ ä¾èµ–é¡¹ã€‚</li><li>å‡çº§ä¾èµ–é¡¹ã€‚</li><li>åˆ é™¤æœªä½¿ç”¨çš„ä¾èµ–é¡¹ã€‚</li></ul><p>ä¸‹é¢ä½¿ç”¨çš„æ¡ˆä¾‹éƒ½æ˜¯ä»¥ <code>GIN</code> æ¨¡å—ä¸ºä¾‹ã€‚<br>åœ¨è¿™ä¹‹å‰å‘¢ï¼Œéœ€è¦å…ˆè®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GO111MODULE=on</span><br><span class="line"><span class="built_in">export</span> GOPROXY=https://goproxy.io // è®¾ç½®ä»£ç†</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å—"><a href="#åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å—" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å—"></a>åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å—</h3><p>ä½ å¯ä»¥åœ¨   $GOPATH/src ä¹‹å¤–çš„ä»»ä½•åœ°æ–¹åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•ã€‚æ¯”å¦‚ï¼š</p><blockquote><p>mkdir backend &amp;&amp; cd backend</p></blockquote><p>ç„¶ååˆå§‹åŒ– <code>go mod init backend</code>ï¼ŒæˆåŠŸä¹‹åä½ ä¼šå‘ç°ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª <code>go.mod</code> æ–‡ä»¶.</p><blockquote><p>$ cat go.mod </p><p>å†…å®¹å¦‚ä¸‹</p><p>module backend</p><p> go 1.12</p></blockquote><h3 id="æ·»åŠ ä¾èµ–é¡¹"><a href="#æ·»åŠ ä¾èµ–é¡¹" class="headerlink" title="æ·»åŠ ä¾èµ–é¡¹"></a>æ·»åŠ ä¾èµ–é¡¹</h3><p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ main.go ç„¶ååŠ å…¥ä»¥ä¸‹ä»£ç ï¼Œè¿™é‡Œç›´æ¥ import äº† gin çš„ä¾èµ–åŒ…ã€‚</p><blockquote><p>vim main.go</p></blockquote><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">r := gin.Default()</span><br><span class="line">r.GET(<span class="string">&quot;/ping&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line"><span class="string">&quot;message&quot;</span>: <span class="string">&quot;pong&quot;</span>,</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">r.Run() <span class="comment">// listen and serve on 0.0.0.0:8080</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>go build ä¹‹åï¼Œä¼šåœ¨ go.mod å¼•å…¥æ‰€éœ€è¦çš„ä¾èµ–åŒ…ã€‚ä¹‹åå†æ¥çœ‹çœ‹ go.mod æ–‡ä»¶çš„æƒ…å†µã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">module backend</span><br><span class="line"></span><br><span class="line">go 1.12</span><br><span class="line"></span><br><span class="line">require (</span><br><span class="line">github.com/gin-contrib/sse v0.0.0-20190301062529-5545eab6dad3 // indirect</span><br><span class="line">github.com/gin-gonic/gin v1.3.0</span><br><span class="line">github.com/golang/protobuf v1.3.1 // indirect</span><br><span class="line">github.com/mattn/go-isatty v0.0.7 // indirect</span><br><span class="line">github.com/ugorji/go v1.1.4 // indirect</span><br><span class="line">gopkg.in/go-playground/validator.v8 v8.18.2 // indirect</span><br><span class="line">gopkg.in/yaml.v2 v2.2.2 // indirect</span><br></pre></td></tr></table></figure><p>require å°±æ˜¯ gin æ¡†æ¶æ‰€éœ€è¦çš„æ‰€æœ‰ä¾èµ–åŒ… å¹¶ä¸”åœ¨æ¯ä¸ªä¾èµ–åŒ…çš„åé¢å·²ç»è¡¨æ˜äº†ç‰ˆæœ¬å·</p><h3 id="å‡çº§ä¾èµ–é¡¹"><a href="#å‡çº§ä¾èµ–é¡¹" class="headerlink" title="å‡çº§ä¾èµ–é¡¹"></a>å‡çº§ä¾èµ–é¡¹</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æŸ¥çœ‹ä»¥ä¸‹æˆ‘ä»¬ä½¿ç”¨åˆ°çš„ä¾èµ–åˆ—è¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; go list -m all</span><br><span class="line">// ä½ ä¼šçœ‹åˆ°æ‰€æœ‰é¡¹ç›®ä½¿ç”¨çš„ä¾èµ–åŒ…</span><br><span class="line">backend</span><br><span class="line">github.com/gin-contrib/sse v0.0.0-20190301062529-5545eab6dad3</span><br><span class="line">github.com/gin-gonic/gin v1.3.0</span><br><span class="line">github.com/golang/protobuf v1.3.1</span><br><span class="line">github.com/mattn/go-isatty v0.0.7</span><br><span class="line">github.com/ugorji/go v1.1.4</span><br><span class="line">golang.org/x/sys v0.0.0-20190222072716-a9d3bda3a223</span><br><span class="line">gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405</span><br><span class="line">gopkg.in/go-playground/validator.v8 v8.18.2</span><br><span class="line">gopkg.in/yaml.v2 v2.2.2</span><br></pre></td></tr></table></figure><p>å› ä¸ºè¿™é‡Œä½¿ç”¨çš„æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼Œæ— æ³•å‡çº§ï¼Œæ‰€ä»¥è¿™é‡Œç»™å‡ºä¸€ä¸ªå›é€€çš„ä¾‹å­ã€‚å°† GIN æ¡†æ¶çš„ç‰ˆæœ¬å›é€€åˆ°ä¸Šä¸ªç‰ˆæœ¬ã€‚è¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªå‘½ä»¤æŸ¥çœ‹ä¾èµ–çš„ç‰ˆæœ¬å†å²ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; go list -m -versions github.com/gin-gonic/gin</span><br><span class="line">// å°†ä¼šåˆ—å‡º Gin ç‰ˆæœ¬å†å²</span><br><span class="line">github.com/gin-gonic/gin v1.1.1 v1.1.2 v1.1.3 v1.1.4 v1.3.0</span><br></pre></td></tr></table></figure><p>å°†ç‰ˆæœ¬æ›´æ–°åˆ°ä¸Šä¸ªç‰ˆæœ¬ï¼Œè¿™é‡Œåªæ˜¯ä¸ªæ¼”ç¤ºã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; go get github.com/gin-gonic/gin@v1.1.4 // åªéœ€è¦åœ¨ä¾èµ–åé¢åŠ ä¸Š @version å°±å¯ä»¥äº†</span><br><span class="line">&gt; go list -m all</span><br><span class="line">// çœ‹åˆ°äº†ç‰ˆæœ¬å˜åŒ–</span><br><span class="line">github.com/gin-gonic/gin v1.1.4</span><br></pre></td></tr></table></figure><p>æˆ–è€…å¯ä»¥ä½¿ç”¨ <code>go mod</code>æ¥è¿›è¡Œç‰ˆæœ¬çš„åˆ‡æ¢, è¿™æ ·å°±éœ€è¦ä¸¤ä¸ªæ­¥éª¤äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; go mod edit -require=<span class="string">&quot;github.com/gin-gonic/gin@v1.1.4&quot;</span> // ä¿®æ”¹ go.mod æ–‡ä»¶</span><br><span class="line">&gt; go tidy //ä¸‹è½½æ›´æ–°ä¾èµ–</span><br></pre></td></tr></table></figure><p><code>go.tidy</code> ä¼šè‡ªåŠ¨æ¸…ç†æ‰ä¸éœ€è¦çš„ä¾èµ–é¡¹ï¼ŒåŒæ—¶å¯ä»¥å°†ä¾èµ–é¡¹æ›´æ–°åˆ°å½“å‰ç‰ˆæœ¬</p><p>ä½¿ç”¨èµ·æ¥è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•è¿‡ç¨‹ï¼Œåªéœ€è¦å‡ ä¸ªå‘½ä»¤ï¼Œä½ ä¾¿å¯ä»¥çŸ¥é“ä¾èµ–çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œä»¥åŠè‡ªç”±é€‰æ‹©å®‰è£…çš„ç‰ˆæœ¬ï¼Œä¸€åˆ‡éƒ½å˜å¾—è¿™ä¹ˆç®€å•ã€‚</p><h3 id="åˆ é™¤æœªä½¿ç”¨çš„ä¾èµ–é¡¹"><a href="#åˆ é™¤æœªä½¿ç”¨çš„ä¾èµ–é¡¹" class="headerlink" title="åˆ é™¤æœªä½¿ç”¨çš„ä¾èµ–é¡¹"></a>åˆ é™¤æœªä½¿ç”¨çš„ä¾èµ–é¡¹</h3><p>å¦‚æœä½ åœ¨é¡¹ç›®è¿‡ç¨‹éœ€è¦ç§»é™¤ä¸€äº›ä¸éœ€è¦çš„ä¾èµ–ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ‰§è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;go mod tidy</span><br></pre></td></tr></table></figure><p>æ›´å¤šå…³äº go mod çš„ä½¿ç”¨å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;$ go mod</span><br><span class="line">The commands are:</span><br><span class="line"></span><br><span class="line">        download    download modules to local cache</span><br><span class="line">        edit        edit go.mod from tools or scripts</span><br><span class="line">        graph       print module requirement graph</span><br><span class="line">        init        initialize new module in current directory</span><br><span class="line">        tidy        add missing and remove unused modules</span><br><span class="line">        vendor      make vendored copy of dependencies</span><br><span class="line">        verify      verify dependencies have expected content</span><br><span class="line">        why         explain why packages or modules are needed</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p>Go Module æ˜¯ Go ä¾èµ–ç®¡ç†çš„æœªæ¥ã€‚ ç›®å‰åªæœ‰ 1.11 å’Œ 1.12 ç‰ˆæœ¬æ”¯æŒè¯¥åŠŸèƒ½ï¼Œä»‹ç»äº† Go ä¾èµ–ç®¡ç†çš„åŠŸèƒ½ã€‚æ›´å¤šçš„åŠŸèƒ½ä¼šåœ¨ä»¥åè¡¥å……ã€‚ä¹Ÿæ¬¢è¿è¡¥å……å®Œå–„ã€‚æœ€åå¦‚æœä½ æ˜¯ä½¿ç”¨ <code>Goland</code>, è¯·ç§»æ­¥è¿™é‡Œ<a href="https://blog.jetbrains.com/go/2019/01/22/working-with-go-modules/">Working with Go Modules</a>é˜…è¯»å…³äºä½¿ç”¨ Modules å¼€å‘</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Module&quot;&gt;&lt;a href=&quot;#Module&quot; class=&quot;headerlink&quot; title=&quot;Module&quot;&gt;&lt;/a&gt;Module&lt;/h2&gt;&lt;p&gt;è‡ªä» &lt;code&gt;Go&lt;/code&gt; å®˜æ–¹ä»å»å¹´æ¨å‡º 1.11 ä¹‹åï¼Œå¢åŠ æ–°çš„ä¾èµ–ç®¡ç†æ¨¡å—å¹¶ä¸”æ›´åŠ æ˜“äºç®¡ç†é¡¹</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="go" scheme="https://jaguarjack.github.io/tags/go/"/>
    
    <category term="go modules" scheme="https://jaguarjack.github.io/tags/go-modules/"/>
    
  </entry>
  
  <entry>
    <title>Go é™·é˜±ä¹‹ for å¾ªç¯è¿­ä»£å˜é‡</title>
    <link href="https://jaguarjack.github.io/2019/04/09/go-for-trap/"/>
    <id>https://jaguarjack.github.io/2019/04/09/go-for-trap/</id>
    <published>2019-04-08T20:26:51.000Z</published>
    <updated>2021-06-16T01:05:39.118Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•è·è¿­ä»£å˜é‡"><a href="#æ•è·è¿­ä»£å˜é‡" class="headerlink" title="æ•è·è¿­ä»£å˜é‡"></a>æ•è·è¿­ä»£å˜é‡</h2><p>è¿™æ˜¯åœ¨å­¦ä¹  <strong>Go ç¨‹åºè®¾è®¡</strong> ä¸­é‡åˆ°çš„ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªè­¦å‘Šã€‚è¿™æ˜¯ä¸ª Go è¯­è¨€çš„è¯æ³•ä½œç”¨åŸŸè§„åˆ™çš„é™·é˜±ã€‚çœ‹å®Œä¹‹åæ„Ÿè§‰æ˜¯çœŸçš„ä¸€ä¸ªæ¯”è¾ƒè®©äººç–‘æƒ‘å›°æƒ‘çš„åœ°æ–¹ã€‚æ‰€ä»¥ç‰¹åœ°è®°å½•ä¸€ä¸‹ã€‚ç”±æ ‡é¢˜å°±å¯ä»¥çŸ¥é“äº†ï¼Œè¿­ä»£å˜é‡ï¼Œè‚¯å®šæ˜¯åœ¨ <code>for</code> ä¸­é‡åˆ°çš„é—®é¢˜ã€‚æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­è¯´æ˜ä¸€ä¸‹è¿™ä¸ªé—®é¢˜æ‰€åœ¨ã€‚</p><p>çœ‹ä¸€æ®µç®€å•çš„ä»£ç ï¼Œ é¦–å…ˆæ˜¯é”™è¯¯çš„ç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> slice []<span class="function"><span class="keyword">func</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sli := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> sli &#123;</span><br><span class="line">fmt.Println(&amp;v)</span><br><span class="line">slice = <span class="built_in">append</span>(slice, <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">fmt.Println(v * v) <span class="comment">// ç›´æ¥æ‰“å°ç»“æœ</span></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> _, val  := <span class="keyword">range</span> slice &#123;</span><br><span class="line">val()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡º 25 25 25 25 25</span></span><br></pre></td></tr></table></figure><p>ä½ å¯èƒ½ä¼šå¾ˆå¥‡æ€ªä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µ, ç»“æœä¸åº”è¯¥æ˜¯ <code>1, 4, 9, 16, 25</code> å—ï¼Ÿå…¶å®åŸå› æ˜¯å¾ªç¯å˜é‡çš„ä½œç”¨åŸŸçš„è§„åˆ™é™åˆ¶ã€‚åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œ<code>v</code> åœ¨ for å¾ªç¯å¼•è¿›çš„ä¸€ä¸ªå—ä½œç”¨åŸŸå†…è¿›è¡Œå£°æ˜ã€‚åœ¨å¾ªç¯é‡Œåˆ›å»ºçš„æ‰€æœ‰å‡½æ•°å˜é‡<code>å…±äº«ç›¸åŒçš„å˜é‡ï¼Œå°±æ˜¯ä¸€ä¸ªå¯è®¿é—®çš„å­˜å‚¨ä½ç½®ï¼Œè€Œä¸æ˜¯å›ºå®šçš„å€¼</code>ã€‚(ä½ ä¼šæƒŠå¥‡çš„å‘ç° <code>&amp;v</code> çš„å†…å­˜åœ°å€æ˜¯ä¸€æ ·çš„)</p><p>æ¨¡æ‹Ÿä¸€ä¸‹å®é™…çš„æƒ…å†µï¼Œå‡è®¾ v å˜é‡çš„åœ°å€åœ¨ 0x12345678 ä¸Šï¼Œ for å¾ªç¯åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰å˜é‡å€¼éƒ½æ˜¯åœ¨è¿™åœ°å€ä¸Šè¿­ä»£çš„ã€‚å½“æœ€åè°ƒç”¨åŒ¿åå‡½æ•°çš„æ—¶å€™ï¼Œå–å€¼ä¹Ÿæ˜¯åœ¨è¿™å—åœ°å€ä¸Šã€‚æ‰€ä»¥æœ€åè¾“å‡ºçš„ç»“æœéƒ½æ˜¯è¿­ä»£çš„æœ€åä¸€ä¸ªå€¼ã€‚è‡³å°‘åœ¨ Go è¯­è¨€ä¸­æ˜¯ä¸ç”¨è´¨ç–‘çš„ã€‚è¿™é‡Œä¹Ÿæ˜¯ä¸€ä¸ªé™·é˜±ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šçš„è¯ï¼Œè‚¯å®šä¼šé‡åˆ°å‘ã€‚é‚£ä¸ªè¯¥å¦‚ä½•ä¿®æ”¹å‘¢ï¼Ÿ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> slice []<span class="function"><span class="keyword">func</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sli := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> sli &#123;</span><br><span class="line">    temp := v <span class="comment">// å…¶å®å¾ˆç®€å• å¼•å…¥ä¸€ä¸ªä¸´æ—¶å±€éƒ¨å˜é‡å°±å¯ä»¥äº†ï¼Œè¿™æ ·å°±å¯ä»¥å°†æ¯æ¬¡çš„å€¼å­˜å‚¨åˆ°è¯¥å˜é‡åœ°å€ä¸Š</span></span><br><span class="line">fmt.Println(&amp;temp) <span class="comment">// è¿™é‡Œå†…å­˜åœ°å€æ˜¯ä¸åŒçš„</span></span><br><span class="line">slice = <span class="built_in">append</span>(slice, <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">fmt.Println(temp *  temp) <span class="comment">// ç›´æ¥æ‰“å°ç»“æœ</span></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> _, val  := <span class="keyword">range</span> slice &#123;</span><br><span class="line">val()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡º 1, 4, 9, 16, 25 é¢„æœŸç»“æœ</span></span><br></pre></td></tr></table></figure><p>åªéœ€è¦å¼•å…¥ä¸€ä¸ªå±€éƒ¨å˜é‡ä¾¿å¯ä»¥è§£å†³äº†ï¼Œè¿™æ˜¯å¿…é¡»çš„ã€‚å¦åˆ™ä½ çš„ç¨‹åºå°†ä¸ä¼šæœ‰å¯é¢„æœŸçš„ç»“æœã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ•è·è¿­ä»£å˜é‡&quot;&gt;&lt;a href=&quot;#æ•è·è¿­ä»£å˜é‡&quot; class=&quot;headerlink&quot; title=&quot;æ•è·è¿­ä»£å˜é‡&quot;&gt;&lt;/a&gt;æ•è·è¿­ä»£å˜é‡&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯åœ¨å­¦ä¹  &lt;strong&gt;Go ç¨‹åºè®¾è®¡&lt;/strong&gt; ä¸­é‡åˆ°çš„ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªè­¦å‘Šã€‚è¿™æ˜¯ä¸ª Go </summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="go" scheme="https://jaguarjack.github.io/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>Go é™·é˜±ä¹‹ for å¾ªç¯è¿­ä»£å˜é‡</title>
    <link href="https://jaguarjack.github.io/2019/04/07/go-for-error/"/>
    <id>https://jaguarjack.github.io/2019/04/07/go-for-error/</id>
    <published>2019-04-06T21:33:37.000Z</published>
    <updated>2021-06-16T01:05:39.118Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•è·è¿­ä»£å˜é‡"><a href="#æ•è·è¿­ä»£å˜é‡" class="headerlink" title="æ•è·è¿­ä»£å˜é‡"></a>æ•è·è¿­ä»£å˜é‡</h2><p>è¿™æ˜¯åœ¨å­¦ä¹  <strong>Go ç¨‹åºè®¾è®¡</strong> ä¸­é‡åˆ°çš„ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªè­¦å‘Šã€‚è¿™æ˜¯ä¸ª Go è¯­è¨€çš„è¯æ³•ä½œç”¨åŸŸè§„åˆ™çš„é™·é˜±ã€‚çœ‹å®Œä¹‹åæ„Ÿè§‰æ˜¯çœŸçš„ä¸€ä¸ªæ¯”è¾ƒè®©äººç–‘æƒ‘å›°æƒ‘çš„åœ°æ–¹ã€‚æ‰€ä»¥ç‰¹åœ°è®°å½•ä¸€ä¸‹ã€‚ç”±æ ‡é¢˜å°±å¯ä»¥çŸ¥é“äº†ï¼Œè¿­ä»£å˜é‡ï¼Œè‚¯å®šæ˜¯åœ¨ <code>for</code> ä¸­é‡åˆ°çš„é—®é¢˜ã€‚æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­è¯´æ˜ä¸€ä¸‹è¿™ä¸ªé—®é¢˜æ‰€åœ¨ã€‚</p><p>çœ‹ä¸€æ®µç®€å•çš„ä»£ç ï¼Œ é¦–å…ˆæ˜¯é”™è¯¯çš„ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var slice []func()</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">sli := []int&#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">for _, v := range sli &#123;</span><br><span class="line">fmt.Println(&amp;v)</span><br><span class="line">slice = append(slice, func()&#123;</span><br><span class="line">fmt.Println(v * v) // ç›´æ¥æ‰“å°ç»“æœ</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for _, val  := range slice &#123;</span><br><span class="line">val()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">// è¾“å‡º 25 25 25 25 25</span><br></pre></td></tr></table></figure><p>ä½ å¯èƒ½ä¼šå¾ˆå¥‡æ€ªä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µ, ç»“æœä¸åº”è¯¥æ˜¯ <code>1, 4, 9, 16, 25</code> å—ï¼Ÿå…¶å®åŸå› æ˜¯å¾ªç¯å˜é‡çš„ä½œç”¨åŸŸçš„è§„åˆ™é™åˆ¶ã€‚åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œ<code>v</code> åœ¨ for å¾ªç¯å¼•è¿›çš„ä¸€ä¸ªå—ä½œç”¨åŸŸå†…è¿›è¡Œå£°æ˜ã€‚åœ¨å¾ªç¯é‡Œåˆ›å»ºçš„æ‰€æœ‰å‡½æ•°å˜é‡<code>å…±äº«ç›¸åŒçš„å˜é‡ï¼Œå°±æ˜¯ä¸€ä¸ªå¯è®¿é—®çš„å­˜å‚¨ä½ç½®ï¼Œè€Œä¸æ˜¯å›ºå®šçš„å€¼</code>ã€‚(ä½ ä¼šæƒŠå¥‡çš„å‘ç° <code>&amp;v</code> çš„å†…å­˜åœ°å€æ˜¯ä¸€æ ·çš„)</p><p>æ¨¡æ‹Ÿä¸€ä¸‹å®é™…çš„æƒ…å†µï¼Œå‡è®¾ v å˜é‡çš„åœ°å€åœ¨ 0x12345678 ä¸Šï¼Œ for å¾ªç¯åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰å˜é‡å€¼éƒ½æ˜¯åœ¨è¿™åœ°å€ä¸Šè¿­ä»£çš„ã€‚å½“æœ€åè°ƒç”¨åŒ¿åå‡½æ•°çš„æ—¶å€™ï¼Œå–å€¼ä¹Ÿæ˜¯åœ¨è¿™å—åœ°å€ä¸Šã€‚æ‰€ä»¥æœ€åè¾“å‡ºçš„ç»“æœéƒ½æ˜¯è¿­ä»£çš„æœ€åä¸€ä¸ªå€¼ã€‚è‡³å°‘åœ¨ Go è¯­è¨€ä¸­æ˜¯ä¸ç”¨è´¨ç–‘çš„ã€‚è¿™é‡Œä¹Ÿæ˜¯ä¸€ä¸ªé™·é˜±ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šçš„è¯ï¼Œè‚¯å®šä¼šé‡åˆ°å‘ã€‚é‚£ä¸ªè¯¥å¦‚ä½•ä¿®æ”¹å‘¢ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var slice []func()</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">sli := []int&#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">for _, v := range sli &#123;</span><br><span class="line">    temp := v // å…¶å®å¾ˆç®€å• å¼•å…¥ä¸€ä¸ªä¸´æ—¶å±€éƒ¨å˜é‡å°±å¯ä»¥äº†ï¼Œè¿™æ ·å°±å¯ä»¥å°†æ¯æ¬¡çš„å€¼å­˜å‚¨åˆ°è¯¥å˜é‡åœ°å€ä¸Š</span><br><span class="line">fmt.Println(&amp;temp) // è¿™é‡Œå†…å­˜åœ°å€æ˜¯ä¸åŒçš„</span><br><span class="line">slice = append(slice, func()&#123;</span><br><span class="line">fmt.Println(temp *  temp) // ç›´æ¥æ‰“å°ç»“æœ</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for _, val  := range slice &#123;</span><br><span class="line">val()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">// è¾“å‡º 1, 4, 9, 16, 25 é¢„æœŸç»“æœ</span><br></pre></td></tr></table></figure><p>åªéœ€è¦å¼•å…¥ä¸€ä¸ªå±€éƒ¨å˜é‡ä¾¿å¯ä»¥è§£å†³äº†ï¼Œè¿™æ˜¯å¿…é¡»çš„ã€‚å¦åˆ™ä½ çš„ç¨‹åºå°†ä¸ä¼šæœ‰å¯é¢„æœŸçš„ç»“æœã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ•è·è¿­ä»£å˜é‡&quot;&gt;&lt;a href=&quot;#æ•è·è¿­ä»£å˜é‡&quot; class=&quot;headerlink&quot; title=&quot;æ•è·è¿­ä»£å˜é‡&quot;&gt;&lt;/a&gt;æ•è·è¿­ä»£å˜é‡&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯åœ¨å­¦ä¹  &lt;strong&gt;Go ç¨‹åºè®¾è®¡&lt;/strong&gt; ä¸­é‡åˆ°çš„ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªè­¦å‘Šã€‚è¿™æ˜¯ä¸ª Go </summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="go" scheme="https://jaguarjack.github.io/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>Waiting(TTFB) ç­‰å¾…æ—¶é—´è¿‡é•¿</title>
    <link href="https://jaguarjack.github.io/2019/02/22/waitting-ttfb-to-long/"/>
    <id>https://jaguarjack.github.io/2019/02/22/waitting-ttfb-to-long/</id>
    <published>2019-02-21T22:13:17.000Z</published>
    <updated>2021-06-16T01:05:39.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¤ç°"><a href="#å¤ç°" class="headerlink" title="å¤ç°"></a>å¤ç°</h2><p> é—®é¢˜æ˜¯åœ¨æˆ‘ä¿®æ”¹åå°çš„æ—¶å€™å‡ºç°ï¼Œå› ä¸ºæœ€è¿‘è¦ç»™æˆ‘çš„<a href="https://gitee.com/lovephp/thinkphp51_backstage">åå°ç®¡ç†</a>æ¢åå°çš®è‚¤ï¼Œæ‰€ä»¥è¦é‡å†™ä¸€ä¸‹åå°é¡µé¢ã€‚æ¢å®Œä¹‹åå‘¢ï¼Œå‘ç°æ¯æ¬¡è¯·æ±‚é¡µé¢éƒ½ç‰¹ä¹ˆçš„é•¿ï¼Œç„¶åå°±æ‰“æ‰“å¼€ <code>Chrome</code> çš„è°ƒè¯•æŸ¥çœ‹ï¼Œ å‘ç°  <code>Waiting(TTFb)</code> æ—¶é—´ç‰¹åˆ«é•¿ï¼Œå‡ ä¹æ‰€æœ‰å æ®äº†æ‰€æœ‰çš„è¯·æ±‚æ—¶é—´ã€‚</p><h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><ul><li>åˆ‡æ¢æµè§ˆå™¨ï¼Œä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯æµè§ˆå™¨é—®é¢˜ï¼Œæ‰€ä»¥åˆ‡æ¢äº†  <code>Firefox</code>ï¼Œ å‘ç°ç»“æœæ˜¯ä¸€æ ·</li><li>åŸŸåè®¿é—®çš„é—®é¢˜ï¼Œæˆ‘æ˜¯é€šè¿‡æœ¬åœ° <code>ip</code> åœ°å€è®¿é—®ï¼Œåˆ‡æ¢åˆ° <code>Apache</code> æœåŠ¡å™¨ä¹‹åå‘ç°ç»“æœä¹Ÿæ˜¯ä¸€æ ·</li><li>æ€€ç–‘æ˜¯é™æ€èµ„æºåŠ è½½ï¼Œå‘ç°é™æ€èµ„æºåŠ è½½éƒ½éå¸¸çš„å¿«ï¼Œæ’é™¤</li></ul><p> åŸºæœ¬çŒœæµ‹ç»“æŸå‘ç°ï¼Œæˆ‘å‘ç°ä»€ä¹ˆæ— æ³•è§£å†³é—®é¢˜ï¼ŒæŸ¥çœ‹ tp çš„æ—¥å¿—æ–‡ä»¶ï¼Œå‘ç°äº†é—®é¢˜ï¼Œåœ¨ <code>Mysql Db Connect</code> çš„æ—¶å€™ï¼Œè¿æ¥æ—¶é—´éå¸¸çš„é•¿ï¼Œé•¿è¾¾ <code>1s</code>  ä»¥ä¸Šï¼Œé—®é¢˜å°±å‡ºç°åœ¨è¿™é‡Œã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p><p> æˆ‘å‘ç° <code>host</code>  çš„åœ°å€ä¸æ˜¯ <code>127.0.0.1</code>  è€Œæ˜¯ <code>localhost</code></p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p><code>host</code> æ–‡ä»¶æ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 localhost</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿåªéœ€è¦ä¸¤ä¸ªæ­¥éª¤å°±å¯ä»¥çœ‹å‡ºæ¥äº†ã€‚åœ¨æ²¡æœ‰é…ç½®ä¸Šè¿°é…ç½®ä¹‹å‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping localhost</span><br></pre></td></tr></table></figure><p>ä½ ä¼šå‘ç°ä»–æŒ‡å‘çš„æ˜¯ <code> ipv6 ï¼šï¼š1</code> çš„åœ°å€ï¼Œ é—®é¢˜å°±æ˜¯å‡ºåœ¨è¿™é‡Œã€‚èµ°çš„æ˜¯ <code>IPV6</code>ã€‚æ”¹æˆ <code>IPV4</code> çš„åœ°å€å°±å¯ä»¥äº† </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å¤ç°&quot;&gt;&lt;a href=&quot;#å¤ç°&quot; class=&quot;headerlink&quot; title=&quot;å¤ç°&quot;&gt;&lt;/a&gt;å¤ç°&lt;/h2&gt;&lt;p&gt; é—®é¢˜æ˜¯åœ¨æˆ‘ä¿®æ”¹åå°çš„æ—¶å€™å‡ºç°ï¼Œå› ä¸ºæœ€è¿‘è¦ç»™æˆ‘çš„&lt;a href=&quot;https://gitee.com/lovephp/thinkphp51_</summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="ç½‘ç»œè¯·æ±‚" scheme="https://jaguarjack.github.io/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡åˆ†äº« JSSDK å®ç°</title>
    <link href="https://jaguarjack.github.io/2018/12/13/wx-sdk-share/"/>
    <id>https://jaguarjack.github.io/2018/12/13/wx-sdk-share/</id>
    <published>2018-12-12T22:18:36.000Z</published>
    <updated>2021-06-16T01:05:39.133Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å…¬å¸è¦åšä¸ªå¾®ä¿¡åˆ†äº«åŠŸèƒ½ï¼Œè®°å½•ä¸‹æ¥ä»¥ä¾¿åæ¥å¤åˆ¶ç²˜è´´ï¼Œå“ˆå“ˆå“ˆã€‚<br>åŸè°…æˆ‘ï¼Œæˆ‘åœ¨åšè¿™ä¸ªä¹‹å‰ä»ç½‘ä¸Šçš„ç¡®å¤åˆ¶ç²˜è´´äº†ï¼Œæœ€åå‘ç°éƒ½æ²¡æ³•ç”¨ï¼Œå“ˆå“ˆï¼Œåªèƒ½è‡ªå·±çœ‹æ¥å£æ–‡æ¡£äº†ã€‚åœ¨è¿™ä¹‹å‰ï¼Œé¦–å…ˆä½ è¦è·å– <code>appid</code> å’Œ appSecretï¼Œç„¶åè¿˜è¦é…ç½® <code>JS</code> <strong>å®‰å…¨åŸŸå</strong>ï¼Œè¿˜æœ‰å°±æ˜¯ <code>IP</code> <strong>ç™½åå•</strong>ï¼Œè¿™äº›æˆ‘å°±ä¸è¯´äº†ï¼Œæœ‰äº†å¾®ä¿¡å…¬ä¼—å·åå°è½»æ¾æå®š</p><h3 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h3><p>æˆ‘ä½¿ç”¨çš„æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ï¼Œä¸è¯´å¤§å®¶éƒ½çŸ¥é“æ˜¯ä»€ä¹ˆäº†å§ï¼å“ˆå“ˆå“ˆï¼Œæˆ‘å°±ç›´æ¥ä¸Šä»£ç äº†ï¼Œæ³¨æ„ç‚¹åœ¨ä»£ç é‡Œé¢çœ‹ã€‚æ³¨æ„é¡¹ç›®ç”¨çš„<code> thinkphp</code> æ¡†æ¶ï¼Œæ‰€ä»¥ <code>Cache</code> æ ¹æ®å®é™…ä½¿ç”¨ï¼Œä¸èƒ½ä¸€è‚¡è„‘çš„ç²˜è´´å•Š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">use Think\Cache;</span><br><span class="line"></span><br><span class="line">class WeChat</span><br><span class="line">&#123;</span><br><span class="line">  // ä½ çš„ appid</span><br><span class="line">    private $appId = &#x27;&#x27;; </span><br><span class="line"> // ç§˜é’¥</span><br><span class="line">    private $appSecret = &#x27;&#x27;; </span><br><span class="line"> // è·å– token çš„ url</span><br><span class="line">    private $getAccessTokenUrl = &#x27;https://api.weixin.qq.com/cgi-bin/token&#x27;; </span><br><span class="line">// è·å– jsticket çš„ url</span><br><span class="line">    private $getJsTicketUrl = &#x27;https://api.weixin.qq.com/cgi-bin/ticket/getticket&#x27;;</span><br><span class="line"></span><br><span class="line">    private $cacheLiefTime = 3600;</span><br><span class="line"></span><br><span class="line">    private $cacheKey      = &#x27;ticket&#x27;;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * è·å–ç­¾å</span><br><span class="line">     *</span><br><span class="line">     * @time at 2018å¹´12æœˆ10æ—¥</span><br><span class="line">     * @param $url</span><br><span class="line">     * @return array</span><br><span class="line">     */</span><br><span class="line">    public function getSignature($url)</span><br><span class="line">    &#123;</span><br><span class="line">        $nonceStr = $this-&gt;createNonceStr(18);</span><br><span class="line">        $timeStamp = time();</span><br><span class="line">        $params = [</span><br><span class="line">            &#x27;jsapi_ticket&#x27; =&gt; $this-&gt;getJsTicket(),</span><br><span class="line">            &#x27;noncestr&#x27;     =&gt; $nonceStr,</span><br><span class="line">            &#x27;timestamp&#x27;    =&gt; $timeStamp,</span><br><span class="line">        ];</span><br><span class="line">  // åªæœ‰å”¯ä¸€çš„æ³¨æ„ç‚¹ï¼Œå°±æ˜¯ä¸è¦æŠŠ url æ”¾åœ¨ http_build_query å‡½æ•°é‡Œé¢ï¼Œå®ƒä¼šè½¬ä¹‰</span><br><span class="line">// éªŒè¯ä½ çš„ç­¾åè¯·åˆ°è¿™é‡Œ http://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=jsapisign</span><br><span class="line">        $signature = sha1(http_build_query($params) . &#x27;&amp;url=&#x27; . $url);</span><br><span class="line"></span><br><span class="line">        return [&#x27;noncestr&#x27; =&gt; $nonceStr, &#x27;timestamp&#x27; =&gt; $timeStamp, &#x27;signature&#x27; =&gt; $signature, &#x27;appid&#x27; =&gt; $this-&gt;appId];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * è·å– TOKEN</span><br><span class="line">     *</span><br><span class="line">     * @time at 2018å¹´12æœˆ10æ—¥</span><br><span class="line">     * @return void</span><br><span class="line">     */</span><br><span class="line">    private function getAccessToken()</span><br><span class="line">    &#123;</span><br><span class="line">        $params = [</span><br><span class="line">            &#x27;grant_type&#x27; =&gt; &#x27;client_credential&#x27;,</span><br><span class="line">            &#x27;appid&#x27;      =&gt; $this-&gt;appId,</span><br><span class="line">            &#x27;secret&#x27;     =&gt; $this-&gt;appSecret,</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line">        $res = $this-&gt;httpGet($this-&gt;getAccessTokenUrl .&#x27;?&#x27;.http_build_query($params));</span><br><span class="line">        $res = json_decode($res, true);</span><br><span class="line">        if (isset($res[&#x27;errcode&#x27;])) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return $res[&#x27;access_token&#x27;];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * è·å–ç­¾å</span><br><span class="line">     *</span><br><span class="line">     * @time at 2018å¹´12æœˆ10æ—¥</span><br><span class="line">     * @return void</span><br><span class="line">     */</span><br><span class="line">    private function getJsTicket()</span><br><span class="line">    &#123;</span><br><span class="line">       $ticket = cache($this-&gt;cacheKey);</span><br><span class="line"></span><br><span class="line">        if ($ticket) &#123;</span><br><span class="line">            return $ticket;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $accessToken = $this-&gt;getAccessToken();</span><br><span class="line"></span><br><span class="line">        $params = [</span><br><span class="line">            &#x27;access_token&#x27; =&gt; $accessToken,</span><br><span class="line">            &#x27;type&#x27;         =&gt; &#x27;jsapi&#x27;,</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line">        if (!$accessToken) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        $res = $this-&gt;httpGet($this-&gt;getJsTicketUrl .&#x27;?&#x27;.http_build_query($params));</span><br><span class="line">        $res = json_decode($res, true);</span><br><span class="line"></span><br><span class="line">        if (isset($res[&#x27;errcode&#x27;]) &amp;&amp; $res[&#x27;errcode&#x27;]) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        Cache::remember($this-&gt;cacheKey, $res[&#x27;ticket&#x27;], $this-&gt;cacheLiefTime);</span><br><span class="line"></span><br><span class="line">        return $res[&#x27;ticket&#x27;];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private function httpGet($url)</span><br><span class="line">    &#123;</span><br><span class="line">        $curl = curl_init();</span><br><span class="line">        curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);</span><br><span class="line">        curl_setopt($curl, CURLOPT_TIMEOUT, 500);</span><br><span class="line">        curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, true);</span><br><span class="line">        curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 2);</span><br><span class="line">        curl_setopt($curl, CURLOPT_URL, $url);</span><br><span class="line">        $res = curl_exec($curl);</span><br><span class="line">        curl_close($curl);</span><br><span class="line"></span><br><span class="line">        return $res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private function createNonceStr($n)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!is_numeric($n)) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        $str = &#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&#x27;;</span><br><span class="line">        $nonceStr = &#x27;&#x27;;</span><br><span class="line">        $strLen = strlen($str);</span><br><span class="line">        for ($i = 1; $i &lt; intval($n); $i++) &#123;</span><br><span class="line">            $nonceStr .= $str[rand(0, $strLen-1)];</span><br><span class="line">        &#125;</span><br><span class="line">        return $nonceStr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‰å°"><a href="#å‰å°" class="headerlink" title="å‰å°"></a>å‰å°</h3><blockquote><p>å¼•å…¥ <a href="http://res2.wx.qq.com/open/js/jweixin-1.4.0.js">http://res2.wx.qq.com/open/js/jweixin-1.4.0.js</a>  ç½‘ä¸Šéƒ½æ˜¯ 1.2.0ï¼ŒæŠ„çš„æˆ‘å¥½ç´¯</p></blockquote><h5 id="å‰ç«¯ä»£ç "><a href="#å‰ç«¯ä»£ç " class="headerlink" title="å‰ç«¯ä»£ç "></a>å‰ç«¯ä»£ç </h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// æ³¨æ„å¾®ä¿¡æ–‡æ¡£æåˆ° url ä¸å…è®¸å¸¦ # åé¢çš„å†…å®¹ï¼Œæ‰€ä»¥å°±åˆ†å‰²å§, è¿˜æœ‰ä¸‹é¢ä½ çœ‹ä¸€ä¸‹å°±æ‡‚äº†å§ã€‚</span><br><span class="line">// å¾®ä¿¡å¥½å¤šæ¥å£éƒ½æ¢äº†ï¼Œä½¿ç”¨ä¹Ÿå’Œç½‘ä¸Šçš„ä¸€ç‚¹ä¹Ÿä¸ä¸€æ ·äº†ï¼Œæ‰€ä»¥å¦‚æœå½“ä½ çœ‹åˆ°è¿™ç¯‡æ–‡ç« æ–‡ç« ä½¿ç”¨ä¸èƒ½æˆåŠŸçš„æ—¶å€™ï¼Œå»ºè®®ä½ å»çœ‹å¾®ä¿¡æ–‡æ¡£, ä¸è¦å†æŠ„è¿™ä¸ªäº†ã€‚è¿˜æœ‰å°±æ˜¯è°ƒè¯•æœŸé—´æŠŠ debug å¼€ä¸‹æ¥ã€‚</span><br><span class="line">var url = window.location.href.split(&#x27;#&#x27;)[0];</span><br><span class="line">    $.post(&quot;&#123;:url(&#x27;Index/getWxConfig&#x27;)&#125;&quot;, &#123;&quot;url&quot;: url&#125;, function (response)&#123;</span><br><span class="line">        var params = &#123;&#125;</span><br><span class="line">        params.debug = false;</span><br><span class="line">        params.appId = response.data.appid;</span><br><span class="line">        params.timestamp = response.data.timestamp;</span><br><span class="line">        params.nonceStr = response.data.noncestr;</span><br><span class="line">        params.signature = response.data.signature;</span><br><span class="line">        params.jsApiList = [&#x27;updateAppMessageShareData&#x27;,&#x27;updateTimelineShareData&#x27;];</span><br><span class="line">        wx.config(params);</span><br><span class="line">        wx.ready(function () &#123;</span><br><span class="line">            wx.updateAppMessageShareData(&#123;</span><br><span class="line">                title: &#x27;æˆ‘å°±æ˜¯ä¸ä¿¡&#x27;,</span><br><span class="line">                desc: &#x27;å¾®ä¿¡åˆ†äº«æˆåŠŸäº†æ²¡&#x27;,</span><br><span class="line">                link: url,</span><br><span class="line">                imgUrl: &#x27;http://aaaa.gaiwenkeji.com/data/upload/qrcode/7.png?id=1544524256&#x27;,</span><br><span class="line">                type: &#x27;link&#x27;,</span><br><span class="line">                dataUrl: &#x27;&#x27;,</span><br><span class="line">            &#125;);</span><br><span class="line">            wx.updateTimelineShareData(&#123;</span><br><span class="line">                title: &#x27;æˆ‘ç›¸ä¿¡äº†, èƒ½ä¸ä¿¡å—&#x27;,</span><br><span class="line">                link: url,</span><br><span class="line">                imgUrl: &#x27;http://aaaa.gaiwenkeji.com/data/upload/qrcode/7.png?id=1544524256&#x27;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¾¿æ˜¯å¾®ä¿¡åˆ†äº«çš„æ‰€æœ‰ä¸œè¥¿ï¼Œæ²¡æœ‰ä»€ä¹ˆå‘ã€‚å‘å°±æ˜¯æˆ‘æŠ„ç½‘ä¸Šçš„ã€‚è¿˜æœ‰å°±æ˜¯ç­¾å <code>URL</code> è½¬ä¹‰çš„ï¼Œå…¶ä»–å°±æ²¡å’¯ã€‚</p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>2018/12/24 æ–°çš„å¾®ä¿¡æ¥å£åœ¨å®‰å“ç³»ç»Ÿä¼šæ— æ•ˆï¼Œå»ºè®®ä½¿ç”¨è€æ¥å£ï¼ŒIOS ä¸Šå¯ä»¥ç»§ç»­ä½¿ç”¨æ–°çš„æ¥å£ </p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘å…¬å¸è¦åšä¸ªå¾®ä¿¡åˆ†äº«åŠŸèƒ½ï¼Œè®°å½•ä¸‹æ¥ä»¥ä¾¿åæ¥å¤åˆ¶ç²˜è´´ï¼Œå“ˆå“ˆå“ˆã€‚&lt;br&gt;åŸè°…æˆ‘ï¼Œæˆ‘åœ¨åšè¿™ä¸ªä¹‹å‰ä»ç½‘ä¸Šçš„ç¡®å¤åˆ¶ç²˜è´´äº†ï¼Œæœ€åå‘ç°éƒ½æ²¡æ³•ç”¨ï¼Œå“ˆå“ˆï¼Œåªèƒ½è‡ªå·±çœ‹æ¥å£æ–‡æ¡£äº†ã€‚åœ¨è¿™ä¹‹å‰ï¼Œé¦–å…ˆä½ è¦è·å– &lt;code&gt;appid&lt;/code&gt; å’Œ appSecretï¼Œç„¶åè¿˜è¦é…ç½® &lt;code&gt;J</summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="å¾®ä¿¡åˆ†äº«" scheme="https://jaguarjack.github.io/tags/%E5%BE%AE%E4%BF%A1%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>v2ray æ›´å®‰å…¨çš„ä»£ç†æœåŠ¡</title>
    <link href="https://jaguarjack.github.io/2018/12/06/v2ray/"/>
    <id>https://jaguarjack.github.io/2018/12/06/v2ray/</id>
    <published>2018-12-05T22:45:35.000Z</published>
    <updated>2021-06-16T01:05:39.130Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h3><p> ç”±äºæœ€è¿‘ä½¿ç”¨ vps è¿ç»­è¢«å°ç¦ï¼Œä¸çŸ¥æ˜¯å¦æ˜¯å› ä¸ºåˆ‡æ¢åˆ° SSR çš„ç¼˜æ•…ï¼Ÿæˆ‘ä»ç½‘ç»œä¸Šçœ‹åˆ°å¾ˆå¤šå…³äº SSR è¢«å°ç¦çš„æƒ…å†µï¼Œå¥½åƒæ˜¯ç”±äºå¢™ä¸éœ€è¦å»ç‰¹æ„ç ´è§£ä»€ä¹ˆåŠ å¯†ï¼Œè€Œæ˜¯æ ¹æ® SSR æŸäº›ç‰¹å¾å¯ä»¥å¤§æ¦‚ç‡æŸ¥å°ã€‚å¯¹äºæˆ‘è€Œè¨€ï¼Œæˆ‘è¿˜æ˜¯ä¿¡æœè¿™ç§è¯´æ³•ï¼Œå› ä¸ºåœ¨æˆ‘åˆ‡æ¢åˆ° SSR ä¹‹åä¸åˆ°ä¸‰å¤©æˆ‘çš„ä¸¤å°æœåŠ¡å™¨è¿ç»­è¢«å°ç¦äº†ï¼Œè¿™è®©æˆ‘ä¸çŸ¥æ‰€æªã€‚å› ä¸ºåœ¨è¿™ä¹‹å‰æ²¡å»å¥½å¥½äº†è§£å®é™…æƒ…å†µï¼Œæˆ‘é¢å¯¹è¿™ç§æƒ…å†µçœŸçš„æ˜¾å¾—å¾ˆæ— å¥ˆï¼Œå¥½å¥½åœ°ä¸¤å° VPS å±…ç„¶éƒ½è¢«å°äº†ï¼Œåªå¥½å¿ç—›åˆä¹°äº†ä¸€å°ã€‚</p><h3 id="å‘ç°-V2ray"><a href="#å‘ç°-V2ray" class="headerlink" title="å‘ç° V2ray"></a>å‘ç° V2ray</h3><p> åœ¨è®ºå›ä¸Šçœ‹åˆ°å¾ˆå¤šäººä¹Ÿé‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Œå¾ˆå¤šéƒ½æ¨èä½¿ç”¨ V2rayï¼Œæ–°çš„åè®®ï¼Œä¼ªè£…ç¨‹åº¦é«˜ï¼Œå„ç§ä¼˜ç‚¹ã€‚è€Œä¸”ç°åœ¨ SS å’Œ SSR åœæ­¢æ›´æ–°äº†ï¼Œä» V2ray github ä¸Šæ¥çœ‹ï¼Œæ›´æ–°å¾ˆé¢‘ç¹ï¼Œè€Œä¸”åŠŸèƒ½ä¹Ÿåœ¨ä¸åœåœ°å¢åŠ ã€‚<br> å¯¹äºè¿™ä¸ªæ—¶å€™çš„æˆ‘ï¼Œå…¶å®å·²ç»ä¸åœ¨ä¹é€Ÿåº¦äº†ï¼Œæ›´åŠ åœ¨ä¹çš„æ˜¯å®‰å…¨å’Œé•¿ä¹…ï¼Œå› ä¸ºæˆ‘åªæ˜¯ç”¨æ¥æŸ¥æŸ¥èµ„æ–™ï¼ŒåŸºæœ¬å¾ˆå°‘çœ‹è§†é¢‘ï¼Œå¯¹äºé€Ÿåº¦è¦æ±‚ä¸é«˜ã€‚å½“ç„¶ç°åœ¨å·²ç»æ­å»ºçš„è¿™å°ä»£ç†é€Ÿåº¦è¿˜æ˜¯å¯ä»¥çš„ï¼Œæ²¹ç®¡çš„ 1080 å¾ˆæµç•…ã€‚è€Œä¸”å¥½å‡ ä¸ªäººåœ¨ç”¨ã€‚</p><h3 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h3><p> æœ¬èº« v2ray æœåŠ¡æ”¯æŒå¾ˆå¤šç§æ–¹æ¡ˆï¼Œå…·ä½“æœ‰å¤šå°‘æˆ‘éƒ½å¿˜äº†ã€‚æœ‰å…´è¶£çš„å¯ä»¥å»æŸ¥æŸ¥åšå®¢ã€‚è¿™é‡Œæˆ‘åªä»‹ç»æˆ‘æ­£åœ¨ä½¿ç”¨æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯å¤§å®¶æ™®éè®¤å¯è€Œä¸”å®‰å…¨æ¯”è¾ƒé«˜çš„æ–¹æ¡ˆ ã€‚</p><blockquote><p>v2ray + nginx + websocket + tls</p></blockquote><p>å½“å‰ä½ é¦–å…ˆå¿…é¡»æ‹¥æœ‰ä¸€å° <code>VPS</code>ï¼Œæ¨èè‚¯å®šå°±æ˜¯æ¬ç“¦å·¥çš„ <code>KVM</code> æ¶æ„çš„äº†ã€‚å®‰è£…è¯·é€‰æ‹©å¸¦æœ‰ <code>BBR</code> çš„ç³»ç»Ÿã€‚<code>BBR</code> æ˜¯ç”± GOOGLE æå‡ºçš„ä¸€ä¸ªå¼€æº <code>TCP</code> æ‹¥å¡æ§åˆ¶çš„ç®—æ³•ã€‚è¿™é‡Œæœ‰ä¸€ç¯‡<a href="https://blog.csdn.net/dog250/article/details/52830576">æ–‡ç« </a>ä½œäº†è¯¦ç»†çš„ä»‹ç»ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹çœ‹ã€‚è¿˜æ˜¯ä½ å¿…é¡»æ‹¥æœ‰ä¸€ä¸ªåŸŸåï¼Œè¿™æ˜¯å¿…é¡»çš„ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä½ å¯ä»¥å…ˆå…³é—­è¯¥é¡µé¢ï¼Œç”³è¯·å®Œå†æ¥çœ‹äº†ï¼Œæˆ–è€…æ‰¾ä¸€ä¸‹å…¶ä»–çš„ v2ray çš„è§£å†³æ–¹æ¡ˆäº†ã€‚<br>è¿™å¥—æ–¹æ¡ˆçš„æ€è·¯å°±æ˜¯åˆ©ç”¨ nginx ä½œä¸ºä¸­è½¬æ¥åšä¼ªè£…ã€‚ç›¸æ¯”äº SSR çš„ç›´è¿ï¼Œåœ¨ v2ray å®¢æˆ·ç«¯å‘å‡º ws çš„è¯·æ±‚åˆ° nginxï¼Œç„¶ååˆ©ç”¨ nginx çš„ä»£ç†ç›´æ¥è½¬å‘åˆ° v2ray çš„æœåŠ¡ä¸Šé¢ã€‚è¿™æ ·å°±å¯ä»¥å°†è¯·æ±‚ä¼ªè£…æˆæ­£å¸¸ ws çš„è¯·æ±‚ ã€‚</p><h3 id="å®‰è£…-ï¼ˆCentos7-ç³»ç»Ÿï¼‰"><a href="#å®‰è£…-ï¼ˆCentos7-ç³»ç»Ÿï¼‰" class="headerlink" title="å®‰è£… ï¼ˆCentos7 ç³»ç»Ÿï¼‰"></a>å®‰è£… ï¼ˆCentos7 ç³»ç»Ÿï¼‰</h3><h4 id="å®‰è£…-v2ray"><a href="#å®‰è£…-v2ray" class="headerlink" title="å®‰è£… v2ray"></a>å®‰è£… v2ray</h4><p>æˆ‘è¿˜æ˜¯æ¨èä¸€é”®è„šæœ¬ï¼Œè¿™ä¹Ÿæ˜¯ç”±å®˜æ–¹ç»´æŠ¤çš„ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºä½ æ²¡å¿…è¦å†å»è‡ªå·±æä»€ä¹ˆç¼–è¯‘å•¥çš„ï¼Œä¹Ÿæ²¡å¤šå¤§æ„ä¹‰ã€‚ç›®å‰è¿˜æ˜¯èƒ½æˆåŠŸå®‰å…¨èµ·æ¥ä¸ºä¸»ã€‚ä»¥åæœ‰å…´è¶£äº†å†å»ææä¹Ÿè¿˜è¡Œã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥äº†</p><blockquote><p>bash &lt;(curl -L -s <a href="https://install.direct/go.sh">https://install.direct/go.sh</a>)</p></blockquote><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ§åˆ¶ v2ray æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start|restart|stop|status v2ray</span><br></pre></td></tr></table></figure><p>å…¶é…ç½®æ–‡ä»¶æ”¾åœ¨ <code>/etc/v2ray/config.json</code>ï¼Œæ˜¯ä¸€ä¸ª <code>Json</code> æ–‡ä»¶ï¼Œåœ¨ä½ å®‰è£…å®Œä¹‹åä¼šæœ‰ä¸€ä¸ªåˆå§‹åŒ–çš„ <code>Json</code> æ–‡ä»¶ï¼Œæ–‡ä»¶ä¼šæä¾›ä¸‰ä¸ªå¿…è¦çš„ä¿¡æ¯ <code>IP</code>ã€ç«¯å£ï¼ˆ<code>Port</code>ï¼‰ã€<code>idï¼ˆUUIDï¼‰</code>, å°¤å…¶æ˜¯è¿™ä¸ª UUIDï¼Œå¾ˆé‡è¦ã€‚å®¢æˆ·ç«¯ä¼šä½¿ç”¨åˆ°ï¼Œå¿…é¡»ä¿æŒå’ŒæœåŠ¡ç«¯ä¸€è‡´ã€‚å½“ç„¶ä½ å¯ä»¥è‡ªå·±ç”Ÿæˆæ‰€éœ€è¦çš„ UUIDï¼Œåˆ°è¿™ä¸ªç½‘ç«™  <a href="https://www.uuidgenerator.net/">Online UUID Generator </a> ç”Ÿæˆå°±å¯ä»¥äº†ã€‚</p><p>æ‰§è¡Œ <code>systemctl start v2ray</code> ç„¶åæ‰§è¡Œ <code>systemctl status v2ray</code> ä¹‹åï¼Œå¦‚æœçœ‹åˆ°ç»¿è‰²çš„ <code>active(running)</code>  å°±è¯´æ˜å¯åŠ¨æˆåŠŸäº†ï¼Œè¿™é‡Œå°±å…ˆå°†æ‰€æœ‰æœåŠ¡å…ˆå®‰è£…å¥½ï¼Œé…ç½®åœ¨æœ€åä¸€å—é…ç½®å°±è¡Œäº†ã€‚</p><h4 id="å®‰è£…-nginx"><a href="#å®‰è£…-nginx" class="headerlink" title="å®‰è£… nginx"></a>å®‰è£… nginx</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc gcc-c++ automake pcre pcre-devel zlib zlib-devel open openssl-devel</span><br><span class="line"></span><br><span class="line">wget http://nginx.org/download/nginx-1.14.1.tar.gz</span><br><span class="line"></span><br><span class="line">tar zxvf nginx-1.14.1.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> nginx-1.14.1</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr/<span class="built_in">local</span>/nginx --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/<span class="built_in">log</span>/nginx/error.log --http-log-path=/var/<span class="built_in">log</span>/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --user=nginx --group=nginx --with-http_ssl_module --with-http_v2_module --with-http_dav_module --with-http_stub_status_module --with-threads --with-file-aio</span><br><span class="line"></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>äº”éƒ¨ Nginx å°±å®‰è£…å¥½äº†ã€‚æœ€ååŠ ä¸€ä¸‹è½¯è¿æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/<span class="built_in">local</span>/nginx/sbin/nginx /usr/bin/</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…è¯ä¹¦"><a href="#å®‰è£…è¯ä¹¦" class="headerlink" title="å®‰è£…è¯ä¹¦"></a>å®‰è£…è¯ä¹¦</h3><p>è¿™é‡Œå‡è®¾ä½ å·²ç»æ‹¥æœ‰äº†åŸŸåï¼Œå¹¶ä¸”å¢åŠ äº† A è§£æåˆ°è¯¥å° VPSã€‚ä¸‹é¢æˆ‘ä»¬ç”³è¯·è¯ä¹¦ï¼Œè¯ä¹¦è¿‡ç¨‹ä¹Ÿå¾ˆç®€å•ã€‚å®‰è£…ä¸¤ä¸ªè„šæœ¬ä¾¿å¯ä»¥äº†ã€‚è¿™é‡Œåˆ©ç”¨ Certbot æ¥ç”³è¯·ã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release</span><br><span class="line">yum install -y certbot</span><br><span class="line">curl  https://get.acme.sh | sh</span><br></pre></td></tr></table></figure><p>å®‰è£æˆåŠŸåæ‰§è¡Œ <code>source ~/.bashrc</code> ä»¥ç¡®ä¿è„šæœ¬æ‰€è®¾ç½®çš„å‘½ä»¤åˆ¥åç”Ÿæ•ˆã€‚<br>å¦‚æœå®‰è£…æŠ¥é”™ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯å› ä¸ºç³»ç»Ÿç¼ºå°‘ <code>acme.sh</code> æ‰€éœ€è¦çš„ä¾èµ–é¡¹, <code>acme.sh</code> çš„ä¾èµ–é¡¹ä¸»è¦æ˜¯ <code>netcat(nc)</code>, æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…è¿™äº›ä¾èµ–ï¼Œç„¶åé‡æ–°å®‰è£…ä¸€é</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install netcat</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆè¯ä¹¦ä¹‹å‰ï¼Œè¯·ç¡®ä¿å®¿ä¸»æœºä¸Šçš„ 80 ç«¯å£æ²¡æœ‰è¢«å ç”¨ï¼Œå¦åˆ™ä¼šå®‰è£…å¤±è´¥</p><blockquote><p>~/.acme.sh/acme.sh â€“issue -d mydomain.me â€“standalone -k ec-256</p></blockquote><p><code>-k</code> è¡¨ç¤ºç§˜é’¥é•¿åº¦ï¼Œåé¢çš„å€¼å¯ä»¥æ˜¯ <code>ec-256</code> ã€<code>ec-384</code>ã€2048ã€3072ã€4096ã€8192ï¼Œå¸¦æœ‰ <code>ec</code> è¡¨ç¤ºç”Ÿæˆçš„æ˜¯ <code>ECC</code> è¯ä¹¦ï¼Œæ²’æœ‰åˆ™æ˜¯ <code>RSA</code> è¯ä¹¦ã€‚åœ¨å®‰å…¨æ€§ä¸Š 256 ä½çš„ <code>ECC</code> è¯ä¹¦ç­‰åŒäº 3072 ä½çš„ <code>RSA</code> è¯ä¹¦ã€‚</p><p>Letâ€™s Encrypt çš„è¯ä¹¦æœ‰æ•ˆæœŸåªæœ‰ 3 å€‹æœˆï¼Œå› æ­¤éœ€è¦ 90 å¤©è‡³å°‘è¦æ›´æ–°ä¸€æ¬¡è¯ä¹¦ï¼Œacme.shè„šæœ¬ä¼šæ¯ 60 å¤©è‡ªåŠ¨æ›´æ–°è¯ä¹¦ï¼Œã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ›´æ–°ã€‚</p><p>æ‰‹åŠ¨æ›´æ–° ECC è¯ä¹¦ï¼Œæ‰§è¡Œï¼š</p><blockquote><p>sudo ~/.acme.sh/acme.sh â€“renew -d mydomain.com â€“force â€“ecc</p></blockquote><p>å¦‚æœæ˜¯ RSA è¯ä¹¦åˆ™æ‰§è¡Œï¼š</p><blockquote><p>sudo ~/.acme.sh/acme.sh â€“renew -d mydomain.com â€“force</p></blockquote><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><h3 id="v2rayæœåŠ¡ç«¯é…ç½®"><a href="#v2rayæœåŠ¡ç«¯é…ç½®" class="headerlink" title="v2rayæœåŠ¡ç«¯é…ç½®"></a>v2rayæœåŠ¡ç«¯é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;log&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;access&quot;</span>: <span class="string">&quot;/var/log/v2ray/access.log&quot;</span>,</span><br><span class="line">    <span class="string">&quot;error&quot;</span>: <span class="string">&quot;/var/log/v2ray/error.log&quot;</span>,</span><br><span class="line">    <span class="string">&quot;loglevel&quot;</span>: <span class="string">&quot;debug&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;inbound&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;listen&quot;</span>: <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;port&quot;</span>: ***, // ä½ çš„å®é™…ç«¯å£å·</span><br><span class="line">    <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;vmess&quot;</span>,</span><br><span class="line">    <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;clients&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">&quot;id&quot;</span>: <span class="comment">### uuid,</span></span><br><span class="line">          <span class="string">&quot;alterId&quot;</span>: 64,</span><br><span class="line">          <span class="string">&quot;level&quot;</span>: 1</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;streamSettings&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;network&quot;</span>: <span class="string">&quot;ws&quot;</span>,</span><br><span class="line">      <span class="string">&quot;security&quot;</span>: <span class="string">&quot;auto&quot;</span>,</span><br><span class="line">      <span class="string">&quot;wsSettings&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;path&quot;</span>: <span class="string">&quot;path&quot;</span>, // è‡ªå®šä¹‰</span><br><span class="line">        <span class="string">&quot;headers&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;Host&quot;</span>: <span class="string">&quot;yourDomain&quot;</span> // ä½ çš„åŸŸååœ°å€</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;outbound&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;freedom&quot;</span>,</span><br><span class="line">    <span class="string">&quot;settings&quot;</span>: &#123; &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;outboundDetour&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;blackhole&quot;</span>,</span><br><span class="line">      <span class="string">&quot;settings&quot;</span>: &#123; &#125;,</span><br><span class="line">      <span class="string">&quot;tag&quot;</span>: <span class="string">&quot;blocked&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;routing&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;strategy&quot;</span>: <span class="string">&quot;rules&quot;</span>,</span><br><span class="line">    <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;rules&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">&quot;type&quot;</span>: <span class="string">&quot;field&quot;</span>,</span><br><span class="line">          <span class="string">&quot;ip&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;0.0.0.0/8&quot;</span>,</span><br><span class="line">            <span class="string">&quot;10.0.0.0/8&quot;</span>,</span><br><span class="line">            <span class="string">&quot;100.64.0.0/10&quot;</span>,</span><br><span class="line">            <span class="string">&quot;127.0.0.0/8&quot;</span>,</span><br><span class="line">            <span class="string">&quot;169.254.0.0/16&quot;</span>,</span><br><span class="line">            <span class="string">&quot;172.16.0.0/12&quot;</span>,</span><br><span class="line">            <span class="string">&quot;192.0.0.0/24&quot;</span>,</span><br><span class="line"><span class="string">&quot;192.0.2.0/24&quot;</span>,</span><br><span class="line">            <span class="string">&quot;192.168.0.0/16&quot;</span>,</span><br><span class="line">            <span class="string">&quot;198.18.0.0/15&quot;</span>,</span><br><span class="line">            <span class="string">&quot;198.51.100.0/24&quot;</span>,</span><br><span class="line">            <span class="string">&quot;203.0.113.0/24&quot;</span>,</span><br><span class="line">            <span class="string">&quot;::1/128&quot;</span>,</span><br><span class="line">            <span class="string">&quot;fc00::/7&quot;</span>,</span><br><span class="line">            <span class="string">&quot;fe80::/10&quot;</span></span><br><span class="line">          ],</span><br><span class="line">          <span class="string">&quot;outboundTag&quot;</span>: <span class="string">&quot;blocked&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="nginx-é…ç½®"><a href="#nginx-é…ç½®" class="headerlink" title="nginx é…ç½®"></a>nginx é…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        <span class="comment"># ç¦ç”¨ä¸éœ€è¦çš„è¯·æ±‚æ–¹å¼ ä»¥ä¸‹åªå…è®¸ getã€post</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$request_method</span>  !~ ^(POST|GET)$) &#123;</span><br><span class="line">                <span class="built_in">return</span>  444;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        listen          80;</span><br><span class="line">        server_name     yourDomain;        <span class="comment">#æ³¨ï¼šå¡«å†™è‡ªå·±çš„åŸŸå</span></span><br><span class="line">        <span class="built_in">return</span>          301  yourDomain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">upstream v2ray &#123;</span><br><span class="line">        server          127.0.0.1:ç«¯å£;        <span class="comment">#æ³¨ï¼šv2rayåç«¯ç›‘å¬åœ°å€ã€ç«¯å£</span></span><br><span class="line">        keepalive       2176;   <span class="comment"># é“¾æ¥æ± ç©ºé—²é“¾æ¥æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map <span class="variable">$http_upgrade</span> <span class="variable">$connection_upgrade</span> &#123;</span><br><span class="line">        default         upgrade;</span><br><span class="line">        <span class="string">&#x27;&#x27;</span>              close;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">        <span class="comment">#è¦å¼€å¯ HTTP/2 æ³¨æ„nginxç‰ˆæœ¬</span></span><br><span class="line">        <span class="comment">#å¯ä»¥ä½¿ç”¨ nginx -V æ£€æŸ¥</span></span><br><span class="line">        listen  443 ssl http2 backlog=1024 so_keepalive=120s:60s:10 reuseport;  <span class="comment"># backlogæ˜¯nginx ç›‘å¬é˜Ÿåˆ— é»˜è®¤æ˜¯511 ä½¿ç”¨å‘½ä»¤ ss -tnlæŸ¥çœ‹(Send-Q);</span></span><br><span class="line">        <span class="comment">#è®¾ç½®ç¼–ç </span></span><br><span class="line">        charset         utf-8;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#è¯ä¹¦é…ç½®</span></span><br><span class="line">        ssl_certificate         path;   <span class="comment">#æ³¨ï¼šå¡«å†™è‡ªå·±è¯ä¹¦è·¯å¾„</span></span><br><span class="line">        ssl_certificate_key    path;   <span class="comment">#æ³¨ï¼šå¡«å†™å¯†é’¥è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">        ssl_session_cache       shared:SSL:50m;</span><br><span class="line">        ssl_session_timeout     1d;</span><br><span class="line">        ssl_session_tickets     off;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># https://nginx.org/en/docs/http/ngx_http_ssl_module.html</span></span><br><span class="line">        ssl_protocols   TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">        <span class="comment">#openssl ciphers</span></span><br><span class="line">        <span class="comment">#æ³¨ï¼šæ‡’äººé…ç½®   https://mozilla.github.io/server-side-tls/ssl-config-generator/</span></span><br><span class="line">        ssl_ciphers     HIGH:!aNULL:!MD5;</span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#å®‰å…¨è®¾å®š</span></span><br><span class="line">        <span class="comment">#å±è”½è¯·æ±‚ç±»å‹</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$request_method</span>  !~ ^(POST|GET)$) &#123;</span><br><span class="line">                <span class="built_in">return</span>  444;</span><br><span class="line">        &#125;</span><br><span class="line">        add_header      X-Frame-Options         DENY;</span><br><span class="line">        add_header      X-XSS-Protection        <span class="string">&quot;1; mode=block&quot;</span>;</span><br><span class="line">        add_header      X-Content-Type-Options  nosniff;</span><br><span class="line">        add_header      Strict-Transport-Security max-age=15 always;</span><br><span class="line">        root    /var/www/html;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Add index.php to the list if you are using PHP</span></span><br><span class="line">        index index.html index.htm  index.php ;</span><br><span class="line"></span><br><span class="line">        server_name     yourDomain;        <span class="comment">#æ³¨ï¼š å°†domain.Name æ›¿æ¢æˆä½ çš„åŸŸå</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        location /path &#123; <span class="comment">#æ³¨ï¼šä¿®æ”¹è·¯å¾„ï¼Œä¸Šè¿°æœåŠ¡ç«¯ ws é…ç½®çš„ path</span></span><br><span class="line">                proxy_http_version      1.1;</span><br><span class="line">                proxy_set_header        Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">                proxy_set_header        Connection <span class="string">&quot;upgrade&quot;</span>;   <span class="comment">#æ­¤å¤„ä¸&lt;map&gt;å¯¹åº”</span></span><br><span class="line">proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">                sendfile                on;</span><br><span class="line">                tcp_nopush              on;</span><br><span class="line">                tcp_nodelay             on;</span><br><span class="line">                keepalive_requests      25600;</span><br><span class="line">                keepalive_timeout       300 300;</span><br><span class="line">                proxy_buffering         off;</span><br><span class="line">                proxy_buffer_size       8k;</span><br><span class="line"></span><br><span class="line">                <span class="comment">#åç«¯é”™è¯¯é‡å®šå‘</span></span><br><span class="line">                proxy_intercept_errors on;</span><br><span class="line">                error_page 400 = <span class="string">&quot;yourDomain&quot;</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$http_host</span> = <span class="string">&quot;yourDomain&quot;</span> ) &#123;</span><br><span class="line">                        proxy_pass      http://127.0.0.1:ç«¯å£; // è®¾ç½® v2ray ç›‘å¬çš„åœ°å€</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯æ¨èä½¿ç”¨ <code>v2rayN</code>,  è¿™æ˜¯ä¸€æ¬¾ window ç•Œé¢çš„äº§å“ï¼Œé…ç½®å¾ˆç®€å•ã€‚<br><img src="https://ws1.sinaimg.cn/large/7512bce3ly1fpzfy0vdavj20kc0e9weq.jpg"></p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><ul><li><code>v2rayN</code> è¿™æ¬¾å®¢æˆ·ç«¯æ— æ³•ä»£ç† <strong>go get</strong>ï¼ŒåŸå› ä¸è¯¦ï¼Œ<code>wireshark</code> æ— æ³•æŠ“åˆ°åŒ…ï¼Œæœ¬èº«çš„ <code>shadowsocks</code> å®¢æˆ·ç«¯æ­£å¸¸</li><li>æ·»åŠ  shadowsocks æœåŠ¡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;inboundDetour&quot;</span>: [</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;shadowsocks&quot;</span>,</span><br><span class="line">     <span class="string">&quot;port&quot;</span>: 10086, // è‡ªè¡Œè®¾ç½®</span><br><span class="line">     <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;method&quot;</span>: <span class="string">&quot;aes-256-cfb&quot;</span>, // å’Œå®¢æˆ·ç«¯è®¾ç½®çš„åŠ å¯†æ–¹å¼ä¸€æ ·ï¼Œè‡ªè¡Œè®¾ç½®</span><br><span class="line">      <span class="string">&quot;password&quot;</span>: <span class="string">&quot;****&quot;</span>, // å¯†ç è®¾ç½®</span><br><span class="line">      <span class="string">&quot;udp&quot;</span>: <span class="literal">false</span></span><br><span class="line">     &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br></pre></td></tr></table></figure><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ä»¥ä¸Šä¾¿æ˜¯å®‰è£…çš„å…¨éƒ¨è¿‡ç¨‹ï¼Œå¯èƒ½è¿‡ç¨‹æœ‰ç–æ¼ï¼Œä¹Ÿå¯èƒ½ä½ åœ¨é…ç½®çš„è¿‡ç¨‹ä¸­æœ€åè®¿é—®ä¸äº†ï¼Œé—®é¢˜æœ‰å¾ˆå¤šï¼Œå¯èƒ½æ˜¯ç‰ˆæœ¬ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¯å¢ƒé—®é¢˜ã€‚é‡åˆ°é—®é¢˜è¯·è‡ªè¡Œ googleã€‚<br>è¿˜æœ‰åƒä¸‡ä¸è¦ <em>ç²˜è´´å¤åˆ¶ ç²˜è´´å¤åˆ¶ ç²˜è´´å¤åˆ¶</em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;ä»£ç†&quot;&gt;&lt;a href=&quot;#ä»£ç†&quot; class=&quot;headerlink&quot; title=&quot;ä»£ç†&quot;&gt;&lt;/a&gt;ä»£ç†&lt;/h3&gt;&lt;p&gt; ç”±äºæœ€è¿‘ä½¿ç”¨ vps è¿ç»­è¢«å°ç¦ï¼Œä¸çŸ¥æ˜¯å¦æ˜¯å› ä¸ºåˆ‡æ¢åˆ° SSR çš„ç¼˜æ•…ï¼Ÿæˆ‘ä»ç½‘ç»œä¸Šçœ‹åˆ°å¾ˆå¤šå…³äº SSR è¢«å°ç¦çš„æƒ…å†µï¼Œå¥½åƒæ˜¯ç”±äºå¢™ä¸éœ€è¦å»</summary>
      
    
    
    
    <category term="å·¥å…·ç¬”è®°" scheme="https://jaguarjack.github.io/categories/%E5%B7%A5%E5%85%B7%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="v2ray" scheme="https://jaguarjack.github.io/tags/v2ray/"/>
    
  </entry>
  
</feed>
